<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[sso]]></title>
    <url>%2F2019%2F01%2F30%2Fsso%2F</url>
    <content type="text"></content>
  </entry>
  <entry>
    <title><![CDATA[Twistedä¸­é‡åˆ°çš„äº‹ä»¶é©±åŠ¨æ¡†æž¶è„è¯»é—®é¢˜]]></title>
    <url>%2F2018%2F08%2F09%2FScrapy%2F%E4%BA%8B%E4%BB%B6%E9%A9%B1%E5%8A%A8%E6%A1%86%E6%9E%B6%E8%84%8F%E8%AF%BB%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[Twistedä¸­é‡åˆ°çš„äº‹ä»¶é©±åŠ¨æ¡†æž¶è„è¯»é—®é¢˜ åœ¨è¿›è¡ŒScrapyä¸­é—´ä»¶å¼€å‘æ—¶é‡åˆ°äº†å…¨å±€å˜é‡è¢«ä¿®æ”¹çš„é—®é¢˜ã€‚ç±»æ¯”çº¿ç¨‹æœ‰ä¸€ä¸ªçº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œ åç¨‹ä¹Ÿæœ‰åç¨‹å®‰å…¨çš„é—®é¢˜éœ€è¦è€ƒè™‘ã€‚ ä¸ºä»€ä¹ˆä¼šæœ‰&quot;çº¿ç¨‹å®‰å…¨&quot;çš„é—®é¢˜å‡ºçŽ°å‘¢ï¼Ÿ 123456789def parallel(iterable, count, callable, *args, **named): """Execute a callable over the objects in the given iterable, in parallel, using no more than ``count`` concurrent calls. Taken from: https://jcalderone.livejournal.com/24285.html """ coop = task.Cooperator() work = (callable(elem, *args, **named) for elem in iterable) return defer.DeferredList([coop.coiterate(work) for _ in range(count)]) å¹¶è¡Œå‡½æ•°æ˜¯é€šè¿‡Cooperatorå®žçŽ°çš„ï¼Œ è¿™ä¸ªCooperatorçš„ç‰¹ç‚¹å°±æ˜¯ï¼ŒåŒæ—¶æ·»åŠ å¤šä¸ªä»»åŠ¡ï¼Œ ä¸€ä¸ªCooperatoræœ‰ä¸€ä¸ªå®šæ—¶å™¨Timeræ¥æŽ§åˆ¶æ‰§è¡Œæ—¶é—´æœ€å¤šä¸º10msã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€ä¸ªåŒ…å«äº†100ä¸ªitemçš„Cooperatorï¼Œä¸€æ¬¡ç†è®ºä¸Šæ‰§è¡Œæœ€å¤š10msåŽå°±å¾—åˆ°ä¸‹ä¸€ä¸ªå‘¨æœŸå†æ‰§è¡Œäº†ã€‚ å½“è¿™ä¸ªCooperatoræ‰§è¡Œ10æ¯«ç§’åŽï¼Œ Twistedæ¡†æž¶è‡ªåŠ¨è·³å‡ºè¿™ä¸ªCooperatoråˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªè¦æ‰§è¡Œçš„ä»»åŠ¡ï¼ˆå‡½æ•°ï¼‰ï¼Œå¦‚æžœä¹‹åŽçš„æŸä¸€ä¸ªå‡½æ•°ä¿®æ”¹äº†å…¬å…±å˜é‡ï¼ˆå…¨å±€å˜é‡æˆ–è€…ç±»å˜é‡ï¼‰ï¼Œ å†åˆ‡å›žè¯¥CooperatoråŽ»è®¿é—®è¯¥å…¬å…±å˜é‡ï¼Œè¿™æ—¶å€™è¯»åˆ°çš„å€¼å°±å‘ç”Ÿäº†å˜åŒ–ã€‚è¿™é‡Œçš„&quot;çº¿ç¨‹å®‰å…¨&quot;å°±æ˜¯è„è¯»çŽ°è±¡ã€‚ æ­£å¸¸æƒ…å†µä¸‹ä¼šé‡åˆ°å—ï¼Ÿ Scrapyä½¿ç”¨Cooperatorçš„æœ¬æ„æ˜¯ä¸ºäº†é™åˆ¶itemçš„å¹¶å‘æ•°ï¼Œé˜²æ­¢æ‰§è¡Œitemç›¸å…³çš„pipelineè€—æ—¶è¿‡ä¹…ã€‚ Scrapyçš„yieldå¹¶ä¸èƒ½ç®€å•åœ°ç†è§£ä¸º Pythonçš„åç¨‹ï¼Œ è€Œæ˜¯ç»è¿‡Scrapyè‡ªå·±çš„ä¸€å±‚åŒ…è£…åŽå†é€’äº¤ç»™Twistedã€‚ Cooperator éžå¸¸ç‰¹æ®Šï¼Œ Twistedä¼šå¼ºåˆ¶é™åˆ¶æ‰§è¡Œæ—¶é—´è¿›è¡Œåˆ‡æ¢ã€‚ ä¸€èˆ¬æƒ…å†µä¸‹ä¼šæ‰§è¡Œå®Œä¸€ä¸ªåç¨‹åŽå†åˆ‡æ¢ï¼Œè€ŒCooperatoråŒ…äº†ä¸€å †Deferredï¼Œä»¥Deferredä¸ºå•ä½åˆ‡æ¢ï¼Œç›¸å½“äºŽé™åˆ¶äº†ä¸€ä¸ªåç¨‹æ‰§è¡Œçš„æ—¶é—´ï¼Œ ä¸€ä¸ªåç¨‹æ‰§è¡Œåˆ°ä¸€åŠå°±åˆ‡æ¢åˆ°äº†ä¸‹ä¸€ä¸ªåç¨‹åŽ»ã€‚ ç†è®ºä¸ŠåƒDeferredï¼ŒFutureï¼ŒPromiseéƒ½ä¸ä¼šé‡åˆ°è¿™ç§é—®é¢˜ã€‚ ä»–ä»¬å¹¶ä¸æ˜¯ç›´æŽ¥è¿›è¡ŒIOåˆ‡æ¢ï¼Œè€Œæ˜¯å…ˆåŠ å…¥ä¸€ä¸ªscheduleé˜Ÿåˆ—å†æ‰§è¡Œå®Œå‰©ä½™çš„codeã€‚ Geventè·Ÿå…¶ä»–çš„äº‹ä»¶é©±åŠ¨æ¡†æž¶ä¸åŒï¼Œåœ¨é‡åˆ°IOé˜»å¡žçš„æƒ…å†µä¸‹ä¼šç›´æŽ¥åˆ‡æ¢åç¨‹ï¼Œ è¿™æ—¶å€™å°±å®¹æ˜“å‡ºçŽ°è„è¯»é—®é¢˜ã€‚ ç»“è®ºï¼š geventä¼šé‡åˆ°ä¹Ÿæ¯”è¾ƒå®¹æ˜“é‡åˆ°è¿™ä¸ªé—®é¢˜ï¼Œ å…¶å®ƒäº‹ä»¶é©±åŠ¨æ¡†æž¶å¦‚æžœæä¾›äº† å¼ºåˆ¶åˆ‡æ¢åç¨‹çš„APIï¼Œä¹Ÿä¼šé‡åˆ°è¿™ä¸ªé—®é¢˜ã€‚åŒæ—¶æˆ‘ä»¬åœ¨Scrapyå¼€å‘ä¸­é—´ä»¶æ—¶ä¸è¦éšæ„æ”¹å˜å…¨å±€å˜é‡å¹¶ä½¿ç”¨ï¼Œç”¨å±€éƒ¨ç»‘å®šå˜é‡å¤„ç†ã€‚ æœ¬åœ°å¤çŽ°ï¼ˆTwistedå®žçŽ°ï¼‰ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758import timeimport randomfrom twisted.internet import defer, reactor, taskclass T(): def __init__(self): self.b = 5t = T()t.b = 1def _(x): parallel(get_urls(), 100, download) print('tb', t.b)def get_urls(): t.b = 2 time.sleep(0.01) yield 'url1' time.sleep(0.01) t.b = 1def change_tb(): t.b = 3def download(url): # ç±»ä¼¼yield request request = defer.Deferred() # request.addCallback(lambda x: change_tb()) request.addCallback(lambda x: parallel(get_urls(), 100, download)) reactor.callLater(random.random(), request.callback, url) # ç±»ä¼¼yield item item = defer.Deferred() item.addCallback(_) reactor.callLater(0, item.callback, url) return itemdef parallel(iterable, count, callable, *args, **named): coop = task.Cooperator() work = (callable(elem, *args, **named) for elem in iterable) return defer.DeferredList([coop.coiterate(work) for _ in range(count)])urls = get_urls()for i in range(1): finished = parallel(get_urls(), 100, download)reactor.run()]]></content>
      <categories>
        <category>twisted</category>
      </categories>
      <tags>
        <tag>event-driven</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Pythonç¼–ç é£Žæ ¼è§„èŒƒ]]></title>
    <url>%2F2018%2F07%2F30%2FPythonCodeStyle%2FPython%E7%BC%96%E7%A0%81%E9%A3%8E%E6%A0%BC%E8%A7%84%E8%8C%83%2F</url>
    <content type="text"><![CDATA[Pythonç¼–ç¨‹è§„èŒƒ 1 èƒŒæ™¯ â€‹ Pythonæ˜¯ä¸€é—¨åŠ¨æ€è¯­è¨€ã€‚Pythonæœ‰ç€éžå¸¸è‡ªç”±çš„è¯­æ³•å’Œéžå¸¸å¤šçš„ç‰¹æ€§ï¼Œå¼€å‘è€…å¯ä»¥å†™å‡ºå„ç§å……æ»¡ç¤¾ä¼šç‰¹è‰²ä¸»ä¹‰çš„ä»£ç ã€‚æœ¬è§„èŒƒçš„ç›®çš„ä¸æ˜¯ä¸ºäº†çº¦æŸå¼€å‘è€…çš„åˆ›é€ åŠ›å’Œç”Ÿäº§åŠ›ï¼Œè€Œæ˜¯ä¸ºäº†é™åˆ¶å¼€å‘è€…çš„è¿‡åº¦ä¸ªæ€§åŒ–ï¼Œç»Ÿä¸€å›¢é˜Ÿçš„ä»£ç é£Žæ ¼ï¼Œé€šè¿‡é£Žæ ¼ä¸€è‡´çš„ä»£ç æ¥æ›´å¥½åœ°è¿›è¡Œå›¢é˜Ÿæˆå‘˜ä¹‹é—´çš„åä½œå¼€å‘ã€‚æœ¬è§„èŒƒé€‚ç”¨Python3.5ä»¥ä¸Šçš„ç‰ˆæœ¬ï¼Œéƒ¨åˆ†è§„èŒƒåœ¨Python2.7ä¸ä¸€å®šé€‚ç”¨ã€‚æœ¬è§„èŒƒä¹Ÿä¸æŽ¨èå¼€å‘è€…ç»§ç»­ä½¿ç”¨Python2.7å¼€å‘ï¼ŒPython3ä¼šä¸æ–­åœ°åŠ å…¥æ–°çš„ç‰¹æ€§ï¼Œè€ŒPython2.7 åˆ°2020å¹´1æœˆ1æ—¥åŽå°†åœæ­¢è¢«ç»´æŠ¤ã€‚æœ¬è§„èŒƒå°†è¾…åŠ©å¼€å‘è€…å†™å‡ºç®€æ´ã€ä¼˜é›…ã€é«˜æ•ˆå’Œé£Žæ ¼ä¸€è‡´çš„ä»£ç ï¼Œå¹¶ä¸”å‡å°‘è¸©å‘çš„æ¦‚çŽ‡ï¼Œæå‡ä»£ç çš„è´¨é‡ï¼Œå¢žå¼ºå¼€å‘è€…çš„ç¼–ç¨‹è§„èŒƒæ„è¯†ã€‚ â€‹ æœ¬è§„èŒƒä¸»è¦å‚ç…§google code styleå’Œ PEP-8å®Œæˆã€‚ 2 è¯­è¨€è§„èŒƒ 2.1 ä»£ç æ£€æŸ¥å·¥å…· flake8 IDEè‡ªå¸¦ä»£ç æ£€æŸ¥å·¥å…· 2.1.1 è§£é‡Š ä»£ç æ£€æŸ¥å·¥å…·å¯ä»¥æ‰¾å‡ºä»£ç ä¸­å­˜åœ¨çš„æ˜Žæ˜¾çš„bugå’Œé£Žæ ¼é—®é¢˜ã€‚ 2.1.2 ä¼˜ç‚¹ å¯ä»¥æ‰¾å‡ºå®¹æ˜“å¿½ç•¥çš„é”™è¯¯ï¼Œæ¯”å¦‚å•è¯æ‹¼å†™é”™è¯¯ï¼Œ ä½¿ç”¨äº†æœªè¢«èµ‹å€¼çš„å˜é‡ç­‰ã€‚ 2.1.3 ç¼ºç‚¹ ä»£ç æ£€æŸ¥å·¥å…·ä¸æ˜¯ä¸‡èƒ½çš„ï¼Œ æœ‰äº›warningå¯èƒ½æ˜¯ä¸å¯¹çš„ï¼Œåœ¨å¿…è¦çš„æ—¶å€™å¯ä»¥å¿½ç•¥å®ƒä»¬ã€‚ 2.1.4 æŽ¨è ç¡®ä¿ä½ å†™çš„ä»£ç ç»è¿‡äº†ä»£ç æ£€æŸ¥å·¥å…·çš„æ£€æŸ¥ï¼Œå¹¶å¿½ç•¥ä¸å¿…è¦çš„warningã€‚ 2.2 å¯¼å…¥(Imports) ä½¿ç”¨importæ¥å¯¼å…¥ã€‚ 2.2.1 è§£é‡Š æ¨¡å—é—´çš„ä»£ç å¤ç”¨ã€‚ 2.2.2 ä¼˜ç‚¹ å‘½åç©ºé—´ç®¡ç†çº¦å®šç®€å•ã€‚x.Objè¡¨ç¤ºObjå¯¹è±¡åœ¨æ¨¡å—xä¸­ã€‚ 2.2.3 ç¼ºç‚¹ ç»å¯¹å¯¼å…¥åœ¨åµŒå¥—å’Œå‘½åå¤æ‚çš„æƒ…å†µä¸‹ï¼Œ å¯¼å…¥ä»£ç ä¼šå˜å¾—éžå¸¸é•¿ã€‚ 2.2.4 æŽ¨è ä½¿ç”¨import xæ¥å¯¼å…¥åŒ…å’Œæ¨¡å—ã€‚ ä½¿ç”¨from x import yå½“xæ˜¯åŒ…åï¼Œ yæ˜¯æ¨¡å—åï¼Œæ¨¡å—åæœ€å¥½ä¸è¦åŒ…å«å‰ç¼€ã€‚ ä½¿ç”¨from x import y as z,å¦‚æžœyå·²ç»è¢«å¯¼å…¥äº†ï¼Œä¸ºäº†é¿å…é‡åï¼Œé‡å‘½åä¸ºzã€‚ ä½¿ç”¨from x.y import a, b, c xæ˜¯åŒ…å,yæ˜¯æ¨¡å—åï¼Œ a,b,cæ˜¯ç±»ï¼Œæ–¹æ³•æˆ–è€…å˜é‡åã€‚ ä½¿ç”¨import y as zï¼Œåªæœ‰ä¸šç•Œéƒ½è¿™ä¹ˆåšçš„æ—¶å€™æ‰è¿™ä¹ˆåšã€‚(æ¯”å¦‚import numpy as npï¼Œ æ˜¯é€šç”¨çš„ä¸€ä¸ªåšæ³•) é¿å…æ–¹æ³•å†…çš„å±€éƒ¨å¯¼å…¥ã€‚(é™¤éžé‡åˆ°å¾ªçŽ¯å¼•ç”¨çš„æƒ…å†µï¼Œè¿™ä¸ªæ—¶å€™éœ€è¦æ£€æŸ¥æ˜¯å¦å¿…é¡»åªèƒ½å¾ªçŽ¯å¼•ç”¨ï¼Œèƒ½ä¸èƒ½æ‹†åˆ†ä»£ç é¿å…å¾ªçŽ¯å¼•ç”¨) â€‹ 2.3 åŒ…(Packages) ä½¿ç”¨æ¨¡å—çš„ç»å¯¹è·¯å¾„åæ¥å¯¼å…¥æ¯ä¸ªæ¨¡å—ã€‚ 2.3.1 è§£é‡Š åŒ…æ˜¯æŒ‰ç›®å½•æ¥ç»„ç»‡æ¨¡å—çš„æ–¹æ³•ã€‚ 2.3.2 ä¼˜ç‚¹ é¿å…æ¨¡å—åå†²çªï¼ŒæŸ¥æ‰¾æ¨¡å—æ›´åŠ å®¹æ˜“ã€‚ 2.3.3 ç¼ºç‚¹ å¯¼å…¥å˜å¾—å›°éš¾ï¼Œ å› ä¸ºå¿…é¡»è¦å¸¦ä¸Šæ•´ä¸ªåŒ…çš„è·¯å¾„ã€‚ 2.3.4 æŽ¨è ä½¿ç”¨ç»å¯¹å¯¼å…¥ï¼Œä¸æŽ¨èä½¿ç”¨ç›¸å¯¹å¯¼å…¥ã€‚ 12345# Reference in code with complete name.import absl.flags# Reference in code with just module name (è¿™ç§æ–¹æ³•æ›´å¥½).from absl import flags 2.4 å¼‚å¸¸(Exceptions) å¼‚å¸¸éœ€è¦å°å¿ƒä½¿ç”¨ã€‚ 2.4.1 è§£é‡Š å¼‚å¸¸æ˜¯ä¸€ç§è·³å‡ºä»£ç å—çš„æ­£å¸¸æŽ§åˆ¶æµæ¥å¤„ç†é”™è¯¯æˆ–è€…å…¶ä»–å¼‚å¸¸æƒ…å†µçš„æ–¹å¼ã€‚ 2.4.2 ä¼˜ç‚¹ æ­£å¸¸æ“ä½œä»£ç çš„æŽ§åˆ¶æµä¸ä¼šå’Œå¤„ç†é”™è¯¯çš„ä»£ç æ··åˆåœ¨ä¸€èµ·ã€‚å½“æŸä¸ªç‰¹å®šå¼‚å¸¸å‘ç”Ÿçš„æ—¶å€™ï¼ŒæŽ§åˆ¶æµå¯ä»¥è·³è¿‡ã€‚æ¯”å¦‚ï¼Œä¸€æ­¥è·³å‡ºNä¸ªåµŒå¥—çš„å‡½æ•°ï¼Œè€Œä¸ç”¨ç»§ç»­æ‰§è¡Œé”™è¯¯çš„ä»£ç ã€‚ 2.4.3 ç¼ºç‚¹ æŽ§åˆ¶æµå¯èƒ½ä¼šè®©äººç–‘æƒ‘ã€‚åœ¨è°ƒç”¨åº“çš„æ—¶å€™å®¹æ˜“å¿½ç•¥ä¸€äº›é”™è¯¯æƒ…å†µã€‚ 2.4.4 æŽ¨è ä½¿ç”¨raise MyError('Error message') æˆ– raise MyError() å……åˆ†åˆ©ç”¨å†…ç½®çš„å¼‚å¸¸ç±»ã€‚æ¯”å¦‚ï¼Œå¦‚æžœä½ ä¼ é€’äº†ä¸€ä¸ªè´Ÿæ•°ï¼Œä½†æ˜¯è¦æ±‚æ˜¯ä¸€ä¸ªæ­£æ•°ï¼ŒæŠ›å‡ºä¸€ä¸ªValueErrorã€‚ä¸è¦ä½¿ç”¨assertè¯­å¥æ¥éªŒè¯å…¬å…±APIä¸­å‚æ•°çš„å€¼ã€‚assertè¢«ç”¨äºŽç¡®ä¿å†…éƒ¨çš„æ­£ç¡®æ€§ï¼Œè€Œä¸æ˜¯ä¸ºäº†å¼ºåˆ¶æ­£ç¡®çš„ä½¿ç”¨ï¼Œä¹Ÿä¸æ˜¯ä¸ºäº†è¡¨æ˜Žä¸€äº›æ„å¤–çš„äº‹æƒ…å‘ç”Ÿã€‚å¦‚æžœå‘ç”Ÿäº†æ„å¤–ï¼Œè¯·ä½¿ç”¨raiseè¯­å¥ã€‚æ¯”å¦‚ï¼Œ 12345678910Yes: def ConnectToNextPort(self, minimum): """Connects to the next available port. Returns the new minimum port.""" if minimum &lt;= 1024: raise ValueError('Minimum port must be greater than 1024.') port = self._FindNextOpenPort(minimum) if not port: raise ConnectionError('Could not connect to service on %d or higher.' % (minimum,)) assert port &gt;= minimum, 'Unexpected port %d when minimum was %d.' % (port, minimum) return port 1234567No: def ConnectToNextPort(self, minimum): """Connects to the next available port. Returns the new minimum port.""" assert minimum &gt; 1024, 'Minimum port must be greater than 1024.' port = self._FindNextOpenPort(minimum) assert port is not None return port åº“å’ŒåŒ…å¯ä»¥å®šä¹‰å®ƒä»¬è‡ªå·±çš„å¼‚å¸¸ã€‚å¦‚æžœè¦è¿™ä¹ˆåšï¼Œ å¿…é¡»ç»§æ‰¿ä¸€ä¸ªå·²æœ‰çš„å¼‚å¸¸ç±»ã€‚å¼‚å¸¸åéœ€è¦ä»¥Errorç»“å°¾ï¼Œ æ°¸è¿œä¸è¦ä½¿ç”¨ except: è¯­å¥æ¥æ•èŽ·æ‰€æœ‰å¼‚å¸¸ï¼Œ è¯¥è¯­å¥å°†ä¼šæ•èŽ·SystemExit å’ŒKeyboardInterruptå¼‚å¸¸ï¼Œè¿™æ ·ä¼šå¾ˆéš¾é€šè¿‡Control-Cä¸­æ–­ç¨‹åºï¼Œ å¹¶ä¸”ä¼šæŽ©ç›–æŽ‰å…¶å®ƒçš„å¼‚å¸¸ã€‚å¦‚æžœæƒ³è¦æ•æ‰ç¨‹åºå‡ºé”™çš„å¼‚å¸¸ï¼Œä½¿ç”¨except Exception as e:ã€‚ å°½é‡å‡å°‘try/exceptå—å†…çš„ä»£ç é‡ã€‚tryçš„å†…å®¹è¶Šå¤šï¼Œ æœŸæœ›å¤–çš„å¼‚å¸¸å°±è¶Šå®¹æ˜“è¢«è§¦å‘ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹try/exceptå—å°†éšè—çœŸæ­£çš„é”™è¯¯ã€‚ ä½¿ç”¨finallyå­å¥ã€‚æ— è®ºæœ‰æ²¡æœ‰å¼‚å¸¸è¢«æŠ›å‡ºï¼Œfinallyå­å¥å†…çš„ä»£ç éƒ½ä¼šè¢«æ‰§è¡Œã€‚å¯¹äºŽéœ€è¦æ‰§è¡Œæ¸…ç†æ“ä½œçš„æ—¶å€™ï¼Œè¿™æ˜¯éžå¸¸æœ‰ç”¨çš„ã€‚æ¯”å¦‚ï¼Œå…³é—­ä¸€ä¸ªæ–‡ä»¶ã€‚ å½“æ•èŽ·å¼‚å¸¸æ—¶ï¼Œä½¿ç”¨asè€Œä¸è¦ä½¿ç”¨é€—å·(python3ä¸æ”¯æŒé€—å·)ã€‚æ¯”å¦‚ï¼š 1234try: raise Errorexcept Error as error: pass â€‹ 2.5 å…¨å±€å˜é‡(Global variables) é¿å…å…¨å±€å˜é‡ 2.5.1 è§£é‡Š æ¨¡å—çº§çš„å˜é‡æˆ–ç±»å˜é‡ 2.5.2 ä¼˜ç‚¹ å¶å°”æœ‰ç”¨ã€‚ 2.5.3 ç¼ºç‚¹ å¯¼å…¥æ—¶å¯èƒ½ä¼šæ”¹å˜æ¨¡å—è¡Œä¸ºï¼Œå› ä¸ºåœ¨é¦–æ¬¡å¯¼å…¥æ¨¡å—æ—¶ä¼šå¯¹å…¨å±€å˜é‡èµ‹å€¼ã€‚ 2.5.4 æŽ¨è é¿å…ä½¿ç”¨å…¨å±€å˜é‡ã€‚ ä¾‹å¤–ï¼š æ¨¡å—çº§å¸¸é‡ã€‚æ¯”å¦‚ï¼ŒMAX_HOLY_HANDGRENADE_COUNT = 3ã€‚å¸¸é‡å•è¯éœ€è¦å…¨éƒ¨å¤§å†™å¹¶ä¸”ç”¨ä¸‹åˆ’çº¿è¿žæŽ¥ã€‚å…·ä½“è¯·æŸ¥çœ‹å‘½åè§„èŒƒã€‚ å¦‚æžœéœ€è¦ï¼Œå…¨å±€å˜é‡ä»…åœ¨æ¨¡å—å†…éƒ¨å¯ç”¨ï¼Œå¹¶åœ¨åå­—å‰åŠ ä¸€ä¸ª_ã€‚å¤–éƒ¨è®¿é—®å¿…é¡»é€šè¿‡å…¬å…±æ¨¡å—çº§å‡½æ•°æ¥å®Œæˆã€‚ 2.6 åµŒå¥—ã€å±€éƒ¨ã€å†…éƒ¨ç±»å’Œå‡½æ•°(Nested/Local/Inner Classes and Functions) å½“åµŒå¥—çš„å±€éƒ¨æ–¹æ³•æˆ–è€…ç±»æ˜¯å…è®¸çš„ã€‚ 2.6.1 è§£é‡Š ä¸€ä¸ªç±»å¯ä»¥åœ¨æ–¹æ³•ã€å‡½æ•°æˆ–ç±»ä¸­è¢«å®šä¹‰ã€‚ä¸€ä¸ªå‡½æ•°å¯ä»¥åœ¨æ–¹æ³•æˆ–å‡½æ•°ä¸­è¢«å®šä¹‰ã€‚åµŒå¥—æ–¹æ³•æ‹¥æœ‰å¯¹é—­åŒ…å˜é‡åªè¯»çš„æƒé™ã€‚ 2.6.2 ä¼˜ç‚¹ å…è®¸å†™ä¸€ç‚¹å°çš„å·¥å…·ç±»å’Œå‡½æ•°åœ¨å±€éƒ¨(ç”¨äºŽè¾…åŠ©ä¸€äº›æ“ä½œ)ï¼Œæ–¹ä¾¿ç›´æŽ¥è°ƒç”¨ã€‚ æ¯”å¦‚ï¼š 123456789101112import sysdef Foo(): def e(s): sys.stderr.write('ERROR: ') sys.stderr.write(s) sys.stderr.write('\n') e('I regret to inform you') e('that a shameful thing has happened.') e('Thus, I must issue this desultory message') e('across numerous lines.')Foo() 2.6.3 ç¼ºç‚¹ åµŒå¥—å’Œå±€éƒ¨çš„ç±»å®žä¾‹ä¸èƒ½è¢«åºåˆ—åŒ–(pickled)ã€‚åµŒå¥—çš„æ–¹æ³•å’Œç±»ä¸èƒ½è¢«ç›´æŽ¥å¾—æµ‹è¯•ã€‚åµŒå¥—å¯èƒ½ä¼šè®©ä½ çš„å‡½æ•°æ›´é•¿å¹¶å‡å°‘å¯è¯»æ€§ã€‚ 2.6.4 æŽ¨è æŽ¨èä½¿ç”¨ã€‚ 2.7 æŽ¨å¯¼å¼å’Œç”Ÿæˆå™¨è¡¨è¾¾å¼(Comprehensions &amp; Generator Expressions) é€‚åˆåœ¨ç®€å•æƒ…å†µä¸‹ä½¿ç”¨ã€‚ 2.7.1 è§£é‡Š åˆ—è¡¨ï¼Œå­—å…¸å’Œé›†åˆæŽ¨å¯¼å¼å’Œç”Ÿæˆå™¨è¡¨è¾¾å¼æä¾›äº†ä¸€ç§ç®€æ´é«˜æ•ˆçš„æ–¹å¼æ¥åˆ›é€ å®¹å™¨ç±»å’Œè¿­ä»£å™¨ï¼Œè€Œä¸å¿…å€ŸåŠ©äºŽä¼ ç»Ÿçš„å¾ªçŽ¯ï¼Œ map(), filter(), æˆ–è€…æ˜¯lambadaã€‚ 2.7.2 ä¼˜ç‚¹ ç®€å•çš„æŽ¨å¯¼å¼æ¯”å…¶ä»–dict, listæˆ–setçš„åˆ›å»ºæ–¹æ³•æ›´åŠ æ¸…æ™°ç®€å•ã€‚ç”Ÿæˆå™¨è¡¨è¾¾å¼éžå¸¸é«˜æ•ˆï¼Œ å› ä¸ºå®ƒä»¬é¿å…ä¸€æ¬¡æ€§åˆ›å»ºæ•´ä¸ªåˆ—è¡¨ã€‚ 2.7.3 ç¼ºç‚¹ å¤æ‚çš„æŽ¨å¯¼å¼æˆ–ç”Ÿæˆå™¨è¡¨è¾¾å¼ä¼šå¯¼è‡´é˜…è¯»éšœç¢ã€‚ 2.7.4 æŽ¨è é€‚åˆåœ¨ç®€å•æƒ…å†µä¸‹ä½¿ç”¨ã€‚ æ¯ä¸ªéƒ¨åˆ†åº”è¯¥å•ç‹¬ä¸€è¡Œï¼šæ˜ å°„(mapping)è¡¨è¾¾å¼ï¼Œ forè¯­å¥ï¼Œ è¿‡æ»¤è¡¨è¾¾å¼ã€‚ ç¦æ­¢å¤šé‡forè¯­å¥æˆ–è€…è¿‡æ»¤è¡¨è¾¾å¼ã€‚åœ¨å¤æ‚æƒ…å†µä¸‹ï¼Œä½¿ç”¨å¾ªçŽ¯ã€‚ 12345678910111213141516171819202122Yes: result = [] for x in range(10): for y in range(5): if x * y &gt; 10: result.append((x, y)) for x in xrange(5): for y in xrange(5): if x != y: for z in xrange(5): if y != z: yield (x, y, z) return ((x, complicated_transform(x)) for x in long_generator_function(parameter) if x is not None) squares = [x * x for x in range(10)] eat(jelly_bean for jelly_bean in jelly_beans if jelly_bean.color == 'black') 123456789No: result = [(x, y) for x in range(10) for y in range(5) if x * y &gt; 10] return ((x, y, z) for x in xrange(5) for y in xrange(5) if x != y for z in xrange(5) if y != z) 2.8 é»˜è®¤è¿­ä»£å™¨å’Œæ“ä½œç¬¦(Default Iterators and Operators) å¦‚æžœç±»æ”¯æŒé»˜è®¤çš„è¿­ä»£å™¨å’Œæ“ä½œç¬¦ï¼Œé‚£ä¹ˆå°±ä½¿ç”¨å®ƒä»¬ï¼Œæ¯”å¦‚åˆ—è¡¨ï¼Œå­—å…¸å’Œæ–‡ä»¶ã€‚ 2.8.1 è§£é‡Š å­—å…¸å’Œå®¹å™¨ç±»åž‹ï¼Œæ¯”å¦‚å­—å…¸å’Œåˆ—è¡¨ï¼Œå®šä¹‰äº†é»˜è®¤çš„è¿­ä»£å™¨å’Œæˆå‘˜å…³ç³»æ“ä½œç¬¦(inå’Œnot in) 2.8.2 ä¼˜ç‚¹ é»˜è®¤è¿­ä»£å™¨å’Œæ“ä½œç¬¦ç®€å•é«˜æ•ˆã€‚å®ƒä»¬ç›´æŽ¥è°ƒç”¨ç›¸å…³æ“ä½œï¼Œä¸ä¼šå› ä¸ºé¢å¤–çš„è°ƒç”¨æ–¹æ³•è€Œäº§ç”Ÿå¼€é”€ã€‚ä½¿ç”¨é»˜è®¤æ“ä½œç¬¦çš„å‡½æ•°æ˜¯é€šç”¨çš„ã€‚ä»»ä½•ç±»éƒ½å¯ä»¥åŽ»é€‰æ‹©å®žçŽ°ç›¸å…³æ–¹æ³•æ¥æ”¯æŒè¿™äº›æ“ä½œã€‚ 2.8.3 ç¼ºç‚¹ ç±»ä¼¼inå’Œnot in æ— æ³•ç›´æŽ¥åˆ¤æ–­è¯¥å¯¹è±¡çš„ç±»åž‹ï¼Œè€Œå¦‚æžœä½¿ç”¨ has_key()åˆ™æ„å‘³ç€è¯¥å¯¹è±¡æ˜¯ä¸€ä¸ªå­—å…¸ã€‚ 2.8.4 æŽ¨è å¦‚æžœé»˜è®¤çš„ç±»æ”¯æŒé»˜è®¤çš„è¿­ä»£å™¨å’Œæ“ä½œç¬¦ï¼Œæ¯”å¦‚åˆ—è¡¨ï¼Œå­—å…¸å’Œæ–‡ä»¶ã€‚å†…å»ºå®¹å™¨ç±»åž‹ä¹Ÿå®šä¹‰äº†è¿­ä»£å™¨æ–¹æ³•ã€‚ä¼˜å…ˆè€ƒè™‘è¿™äº›æ–¹æ³•ï¼Œè€Œä¸æ˜¯ç”¨å¦å¤–çš„è¿”å›žåˆ—è¡¨çš„æ–¹æ³•ã€‚è¯·æ³¨æ„ï¼Œåœ¨è¿­ä»£å®¹å™¨çš„æ—¶å€™ï¼Œä½ æ˜¯ä¸èƒ½å¯¹å®ƒè¿›è¡Œä¿®æ”¹çš„ã€‚ 12345Yes: for key in adict: ... if key not in adict: ... if obj in alist: ... for line in afile: ... for k, v in dict.iteritems(): ... 123No: for key in adict.keys(): ... if not adict.has_key(key): ... for line in afile.readlines(): ... 2.9 ç”Ÿæˆå™¨(Generators) æŒ‰éœ€ä½¿ç”¨ç”Ÿæˆå™¨ã€‚ 2.9.1 è§£é‡Š ä¸€ä¸ªç”Ÿæˆå™¨å‡½æ•°è¿”å›žä¸€ä¸ªè¿­ä»£å™¨ã€‚æ¯å½“å®ƒæ‰§è¡Œä¸€æ¬¡yieldè¯­å¥ï¼Œå®ƒå°±ä¼šè¿”å›žä¸€ä¸ªå€¼ã€‚ç”Ÿæˆå€¼åŽï¼Œç”Ÿæˆå™¨å‡½æ•°çš„è¿è¡ŒçŠ¶æ€è¢«æŒ‚èµ·ç›´åˆ°éœ€è¦ç”Ÿæˆä¸‹ä¸€ä¸ªå€¼ã€‚ 2.9.2 ä¼˜ç‚¹ ç®€åŒ–ä»£ç ï¼Œ å› ä¸ºæ¯æ¬¡è°ƒç”¨æ—¶ï¼Œå±€éƒ¨å˜é‡å’ŒæŽ§åˆ¶æµçš„çŠ¶æ€éƒ½ä¼šè¢«ä¿å­˜ã€‚ç”Ÿæˆå™¨ä»…ä¼šå ç”¨æžå°‘çš„å†…å­˜ï¼Œå¯¹äºŽå¤§å†…å­˜å¯¹è±¡çš„è¿­ä»£ï¼ŒæŽ¨èä½¿ç”¨ç”Ÿæˆå™¨è€Œä¸æ˜¯åˆ—è¡¨ã€‚ 2.9.3 ç¼ºç‚¹ æ— ã€‚ 2.9.4 æŽ¨è é¼“åŠ±ä½¿ç”¨ã€‚ 2.10 åŒ¿åå‡½æ•°(Lambda Functions) é€‚ç”¨äºŽä¸€è¡Œçš„è¡¨è¾¾å¼ã€‚ 2.10.1 è§£é‡Š Lambdaå®šä¹‰äº†ä»¥ä¸€ä¸ªè¡¨è¾¾å¼ä½œä¸ºåŒ¿åå‡½æ•°ï¼Œç»å¸¸ç”¨äºŽå›žè°ƒå’Œé«˜é˜¶å‡½æ•°æ¯”å¦‚map()ï¼Œfilter()ã€‚ 2.10.2 ä¼˜ç‚¹ æ–¹ä¾¿ã€‚ 2.10.3 ç¼ºç‚¹ æ¯”æœ¬åœ°å‡½æ•°æ›´éš¾é˜…è¯»å’Œè°ƒè¯•ã€‚æ²¡æœ‰å‡½æ•°åæ„å‘³ç€è°ƒç”¨æ ˆè·Ÿè¸ªæ›´åŠ éš¾ä»¥ç†è§£ã€‚ç”±äºŽpythonçš„lambdaå‡½æ•°åªèƒ½åŒ…å«ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œå› æ­¤å®ƒçš„ä½œç”¨æœ‰é™ã€‚ 2.10.4 æŽ¨è å¯¹äºŽç®€å•çš„è¡¨è¾¾å¼ï¼Œå¯ä»¥ç›´æŽ¥ä½¿ç”¨åŒ¿åå‡½æ•°è€Œä¸ç”¨å†å•ç‹¬å†™ä¸€ä¸ªå‡½æ•°ã€‚å¦‚æžœåŒ¿åå‡½æ•°ä»£ç è¶…è¿‡60-80ä¸ªå­—ç¬¦ï¼Œæœ€å¥½è¿˜æ˜¯å®šä¹‰æˆå•ç‹¬çš„å‡½æ•°ã€‚å¯¹äºŽå¸¸è§çš„æ“ä½œç¬¦ï¼Œæ¯”å¦‚ä¹˜æ³•ï¼Œä½¿ç”¨operatoræ¨¡å—ä¸­çš„å‡½æ•°ä»£æ›¿lambdaå‡½æ•°ã€‚æ¯”å¦‚ï¼Œ æŽ¨èä½¿ç”¨operator.mulï¼Œ è€Œä¸æ˜¯lambda x,y: x*yã€‚ 2.11 æ¡ä»¶è¡¨è¾¾å¼(Conditional Expressions) 2.11.1 è§£é‡Š æ¡ä»¶è¡¨è¾¾å¼(åˆè¢«ç§°ä¸ºä¸‰å…ƒè¿ç®—ç¬¦)æä¾›äº†æ¯” ifè¯­å¥æ›´çŸ­çš„è¯­æ³•ã€‚æ¯”å¦‚x = 1 if cond else 2ã€‚ 2.11.2 ä¼˜ç‚¹ æ¯”ifè¯­å¥æ›´åŠ ç®€çŸ­å’Œæ–¹ä¾¿ã€‚ 2.11.3 ç¼ºç‚¹ æ¯”ifè¯­å¥è¯»èµ·æ¥ç´¯ï¼Œç‰¹åˆ«æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼å¾ˆé•¿çš„æ—¶å€™ã€‚ 2.11.4 æŽ¨è é€‚ç”¨äºŽç®€å•çš„ï¼Œä¸€è¡Œèƒ½è§£å†³çš„æƒ…å†µã€‚åœ¨éœ€è¦å¤šè¡Œè¯­å¥æ‰èƒ½è§£å†³çš„æƒ…å†µï¼ŒæŽ¨èä½¿ç”¨å®Œæ•´çš„ifè¯­å¥ã€‚ 2.12 é»˜è®¤å‚æ•°å€¼(Default Argument Values) é€‚ç”¨äºŽå¤§éƒ¨åˆ†æƒ…å†µã€‚ 2.12.1 è§£é‡Š å‡½æ•°çš„å‚æ•°å¯ä»¥æŒ‡å®šé»˜è®¤å€¼ã€‚å¦‚def foo(a, b=0):ã€‚å¦‚æžœfooåªä¼ å…¥ä¸€ä¸ªå‚æ•°ï¼Œé‚£ä¹ˆbçš„å€¼å°±æ˜¯0ã€‚å¦‚æžœä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼Œbçš„å€¼å°±æ˜¯ç¬¬äºŒä¸ªå‚æ•°çš„å€¼ã€‚ 2.12.2 ä¼˜ç‚¹ ä½ ç»å¸¸ä¼šç¢°åˆ°ä¸€äº›ä½¿ç”¨å¤§é‡é»˜è®¤å€¼çš„å‡½æ•°ï¼Œ ä½†å¶å°”(æ¯”è¾ƒå°‘è§)ä½ æƒ³è¦è¦†ç›–è¿™äº›é»˜è®¤å€¼ã€‚é»˜è®¤å‚æ•°å€¼æä¾›äº†ä¸€ç§ç®€å•çš„æ–¹æ³•æ¥å®Œæˆè¿™ä»¶äº‹ï¼Œ ä½ ä¸éœ€è¦ä¸ºè¿™äº›ç½•è§çš„ä¾‹å¤–å®šä¹‰å¤§é‡å‡½æ•°ã€‚åŒæ—¶, Pythonä¹Ÿä¸æ”¯æŒé‡è½½æ–¹æ³•å’Œå‡½æ•°ï¼Œé»˜è®¤å‚æ•°æ˜¯ä¸€ç§&quot;ä»¿é€ &quot;é‡è½½è¡Œä¸ºçš„ç®€å•æ–¹å¼ã€‚ 2.12.3 ç¼ºç‚¹ é»˜è®¤å‚æ•°åªåœ¨æ¨¡å—åŠ è½½æ—¶æ±‚å€¼ä¸€æ¬¡ï¼Œå¦‚æžœå‚æ•°æ˜¯åˆ—è¡¨æˆ–å­—å…¸ä¹‹ç±»çš„å¯å˜ç±»åž‹, è¿™å¯èƒ½ä¼šå¯¼è‡´é—®é¢˜ã€‚å¦‚æžœåœ¨å‡½æ•°å†…éƒ¨å¯¹è¯¥å¯å˜å¯¹è±¡è¿›è¡Œä¿®æ”¹(æ¯”å¦‚å‘åˆ—è¡¨è¿½åŠ é¡¹l.append('sth'))ï¼Œé»˜è®¤å‚æ•°çš„å€¼å°±è¢«ä¿®æ”¹äº†ã€‚ 2.12.4 æŽ¨è é¼“åŠ±ä½¿ç”¨ã€‚ä¸è¿‡æœ‰å¦‚ä¸‹æ³¨æ„äº‹é¡¹ï¼š ä¸è¦åœ¨å‡½æ•°æˆ–æ–¹æ³•å®šä¹‰ä¸­ä½¿ç”¨å¯å˜å¯¹è±¡ä½œä¸ºé»˜è®¤å€¼ã€‚ 123456Yes: def foo(a, b=None): if b is None: b = []Yes: def foo(a, b: Optional[Sequence] = None): if b is None: b = [] 123456No: def foo(a, b=[]): ...No: def foo(a, b=time.time()): # The time the module was loaded??? ...No: def foo(a, b=FLAGS.my_thing): # sys.argv has not yet been parsed... ... 2.13 å±žæ€§(Properties) è®¿é—®å’Œè®¾ç½®æ•°æ®æˆå‘˜æ—¶ï¼Œ ä½ é€šå¸¸ä¼šä½¿ç”¨ç®€å•ï¼Œè½»é‡çº§çš„è®¿é—®å’Œè®¾ç½®å‡½æ•°ã€‚å»ºè®®ç”¨å±žæ€§(properties)æ¥ä»£æ›¿å®ƒä»¬ã€‚ 2.13.1 è§£é‡Š èƒ½å¤ŸåŒ…è£…getterå’Œsetterã€‚ å½“è¿ç®—é‡ä¸å¤§, å®ƒæ˜¯èŽ·å–å’Œè®¾ç½®å±žæ€§(attribute)çš„æ ‡å‡†æ–¹å¼. 2.13.2 ä¼˜ç‚¹ æŒ‡å®šæ˜¾å¼çš„å±žæ€§getå’Œsetæ–¹æ³•å¯ä»¥æé«˜å¯è¯»æ€§ã€‚å…è®¸å»¶è¿Ÿè®¡ç®—(lazy calculation)ã€‚ä¸éœ€è¦å¯¹ç±»çš„æŽ¥å£è¿›è¡Œæ”¹åŠ¨ã€‚ 2.13.3 ç¼ºç‚¹ åœ¨å®žä¾‹å±žæ€§éœ€è¦é¢‘ç¹è®¿é—®çš„æ—¶å€™ï¼Œ é€šè¿‡ç›´æŽ¥è®¿é—®å±žæ€§çš„é€Ÿåº¦ä¼šæ˜¯é€šè¿‡è¯¥æ–¹å¼è®¿é—®å±žæ€§çš„3å€ã€‚åœ¨é«˜æ€§èƒ½ç¼–ç¨‹ä¸‹éœ€è¦æ³¨æ„@propertyå¯èƒ½å¸¦æ¥çš„æ€§èƒ½é—®é¢˜ã€‚ 2.13.4 æŽ¨è æŽ¨èä½¿ç”¨@propertyè£…é¥°å™¨çš„æ–¹å¼æ¥èŽ·å–æˆ–è€…è®¾ç½®å±žæ€§ï¼Œåœ¨èŽ·å–å±žæ€§éœ€è¦é€šè¿‡ç®€å•çš„è®¡ç®—è¡¨è¾¾å¼å¾—å‡ºç»“æžœæ—¶ï¼Œè¿™æ˜¯éžå¸¸é€‚åˆçš„ã€‚æ¯”å¦‚ï¼š 1234Yes:@propertydef area(self): return math.pi * self.radius**2 123456789101112131415161718192021222324252627282930313233343536373839404142Yes: import math class Square(object): """A square with two properties: a writable area and a read-only perimeter. To use: &gt;&gt;&gt; sq = Square(3) &gt;&gt;&gt; sq.area 9 &gt;&gt;&gt; sq.perimeter 12 &gt;&gt;&gt; sq.area = 16 &gt;&gt;&gt; sq.side 4 &gt;&gt;&gt; sq.perimeter 16 """ def __init__(self, side): self.side = side @property def area(self): """Gets or sets the area of the square.""" return self._get_area() @area.setter def area(self, area): return self._set_area(area) def _get_area(self): """Indirect accessor to calculate the 'area' property.""" return self.side ** 2 def _set_area(self, area): """Indirect setter to set the 'area' property.""" self.side = math.sqrt(area) @property def perimeter(self): return self.side * 4 é¿å…å¤ªè¿‡ç®€å•çš„åŒ…è£…ã€‚ 12345No: @property def area(self): """Gets or sets the area of the square.""" return self._area é¿å…é€šè¿‡propertyçš„æ–¹å¼è®¾ç½®getterå’Œsetterã€‚ä½¿ç”¨@propertyå’Œ@sth.setterã€‚ 123No:area = property(___get_area, ___set_area, doc="""Gets or sets the area of the square.""") 2.14 True/Falseçš„æ±‚å€¼(True/False evaluations) å°½å¯èƒ½ä½¿ç”¨éšå¼false 2.14.1 è§£é‡Š Pythonåœ¨å¸ƒå°”ä¸Šä¸‹æ–‡ä¸­ä¼šå°†æŸäº›å€¼æ±‚å€¼ä¸ºFalseã€‚ æŒ‰ç®€å•çš„ç›´è§‰æ¥è®²ï¼Œ å°±æ˜¯æ‰€æœ‰çš„&quot;ç©º&quot;å€¼éƒ½è¢«è®¤ä¸ºæ˜¯falseã€‚å› æ­¤ 0, None, [], {}, &quot;&quot;éƒ½è¢«è®¤ä¸ºæ˜¯falseå€¼ã€‚ 2.14.2 ä¼˜ç‚¹ ä½¿ç”¨Pythonicå¸ƒå°”å€¼çš„æ¡ä»¶è¯­å¥æ›´æ˜“è¯»ä¹Ÿæ›´ä¸æ˜“çŠ¯é”™ã€‚ 2.14.3 ç¼ºç‚¹ å¯¹äºŽC/C++ç­‰å…¶å®ƒè¯­è¨€å¼€å‘äººå‘˜æ¥è¯´ï¼Œä¼šæ„Ÿè§‰æœ‰ç‚¹å¥‡æ€ªã€‚ 2.14.4 æŽ¨è å°½å¯èƒ½ä½¿ç”¨éšå¼çš„falseï¼Œ ä¾‹å¦‚: ä½¿ç”¨ if foo: è€Œä¸æ˜¯ if foo != []: . ä¸è¿‡è¿˜æ˜¯æœ‰ä¸€äº›æ³¨æ„äº‹é¡¹éœ€è¦ä½ é“­è®°åœ¨å¿ƒ: æ°¸è¿œä¸è¦ç”¨==æˆ–è€…!=æ¥æ¯”è¾ƒæŸäº›å•ä¾‹ï¼Œ æ¯”å¦‚Noneã€‚ ä½¿ç”¨isæˆ–è€…is notã€‚ æ³¨æ„: å½“ä½ å†™ä¸‹ if x: æ—¶ï¼Œ å¦‚æžœä½ å…¶å®žè¡¨ç¤ºçš„æ˜¯ if x is not Noneï¼Œé‚£ä¹ˆif x:æ˜¯ä¸å¯¹çš„ã€‚ ä¾‹å¦‚: å½“ä½ è¦æµ‹è¯•ä¸€ä¸ªé»˜è®¤å€¼æ˜¯Noneçš„å˜é‡æˆ–å‚æ•°æ˜¯å¦è¢«è®¾ä¸ºå…¶å®ƒå€¼ã€‚ è¿™ä¸ªå€¼åœ¨å¸ƒå°”è¯­ä¹‰ä¸‹å¯èƒ½æ˜¯falseï¼ æ°¸è¿œä¸è¦ç”¨==å°†ä¸€ä¸ªå¸ƒå°”é‡ä¸Žfalseç›¸æ¯”è¾ƒ. ä½¿ç”¨ if not x: ä»£æ›¿. å¦‚æžœä½ éœ€è¦åŒºåˆ†falseå’ŒNone, ä½ åº”è¯¥ç”¨åƒ if not x and x is not None: è¿™æ ·çš„è¯­å¥ã€‚ å¯¹äºŽåºåˆ—(å­—ç¬¦ä¸², åˆ—è¡¨, å…ƒç»„), è¦æ³¨æ„ç©ºåºåˆ—æ˜¯falseã€‚å› æ­¤ if not seq: æˆ–è€… if seq: æ¯” if len(seq): æˆ– if not len(seq): è¦æ›´å¥½ã€‚ å¤„ç†æ•´æ•°æ—¶, ä½¿ç”¨éšå¼falseå¯èƒ½ä¼šå¾—ä¸å¿å¤±(å³ä¸å°å¿ƒå°†Noneå½“åš0æ¥å¤„ç†). ä½ å¯ä»¥å°†ä¸€ä¸ªå·²çŸ¥æ˜¯æ•´åž‹(ä¸”ä¸æ˜¯len()çš„è¿”å›žç»“æžœ)çš„å€¼ä¸Ž0æ¯”è¾ƒã€‚ 123456789101112Yes: if not users: print('no users') if foo == 0: self.handle_zero() if i % 10 == 0: self.handle_multiple_of_ten() def f(x=None): if x is None: x = [] 1234567891011No: if len(users) == 0: print('no users') if foo is not None and not foo: self.handle_zero() if not i % 10: self.handle_multiple_of_ten() def f(x=None): x = x or [] æ³¨æ„â€™0â€™(å­—ç¬¦ä¸²)ä¼šè¢«å½“åštrueã€‚ â€‹ 2.15 è¿‡æ—¶çš„è¯­è¨€ç‰¹æ€§(Deprecated Language Features) ä½¿ç”¨å­—ç¬¦ä¸²æ–¹æ³•ä»£æ›¿å­—ç¬¦ä¸²æ¨¡å—ã€‚ä½¿ç”¨åˆ—è¡¨æŽ¨å¯¼å¼å’Œforå¾ªçŽ¯ä»£æ›¿filterã€‚åœ¨map ä¸­å°‘ç”¨å¤æ‚çš„lambdaå‡½æ•°ã€‚ä½¿ç”¨forå¾ªçŽ¯è€Œä¸æ˜¯reduceã€‚ 2.15.1 è§£é‡Š å½“å‰ç‰ˆæœ¬çš„Pythonæä¾›äº†å¤§å®¶æ›´å–œæ¬¢çš„ç‰¹æ€§ã€‚ 2.15.2 æŽ¨è æˆ‘ä»¬ä¸ä½¿ç”¨é™ˆæ—§çš„Pythonç‰ˆæœ¬ï¼Œè€Œæ˜¯å°½å¯èƒ½ä½¿ç”¨æ–°çš„å’Œç¨³å®šçš„Pythonç‰ˆæœ¬ã€‚æ‰€ä»¥æˆ‘ä»¬åº”è¯¥å°è¯•ã€ä¹ æƒ¯å¹¶æŽ¢ç´¢æ›´å¥½çš„ç‰¹æ€§ã€‚ 1234567Yes: words = foo.split(':') [x[1] for x in my_list if x[2] == 5] map(math.sqrt, data) # Ok. No inlined lambda expression. fn(*args, **kwargs) 12345No: words = string.split(foo, ':') map(lambda x: x[1], filter(lambda x: x[2] == 5, my_list)) apply(fn, args, kwargs) 2.16 å˜é‡ä½œç”¨åŸŸ(Lexical Scoping) ä¸è¦ä½¿ç”¨ä¼šè®©äººè¯¯è§£çš„å±€éƒ¨å˜é‡å’Œå…¨å±€å˜é‡ï¼Œä¸åŒçš„å˜é‡ä½œç”¨åŸŸä¸åŒã€‚ 2.16.1 è§£é‡Š åµŒå¥—çš„Pythonå‡½æ•°å¯ä»¥å¼•ç”¨å¤–å±‚å‡½æ•°ä¸­å®šä¹‰çš„å˜é‡ï¼Œä½†æ˜¯ä¸èƒ½å¤Ÿå¯¹å®ƒä»¬èµ‹å€¼ã€‚å˜é‡ç»‘å®šçš„è§£æžæ˜¯ä½¿ç”¨è¯æ³•ä½œç”¨åŸŸ, ä¹Ÿå°±æ˜¯åŸºäºŽé™æ€çš„ç¨‹åºæ–‡æœ¬ã€‚å¯¹ä¸€ä¸ªå—ä¸­çš„æŸä¸ªåç§°çš„ä»»ä½•èµ‹å€¼éƒ½ä¼šå¯¼è‡´Pythonå°†å¯¹è¯¥åç§°çš„å…¨éƒ¨å¼•ç”¨å½“åšå±€éƒ¨å˜é‡ï¼Œ ç”šè‡³æ˜¯èµ‹å€¼å‰çš„å¤„ç†ã€‚ å¦‚æžœç¢°åˆ°globalå£°æ˜Žï¼Œè¯¥å˜é‡å°±ä¼šè¢«è§†ä½œå…¨å±€å˜é‡ã€‚ ä¸€ä¸ªä½¿ç”¨é—­åŒ…çš„ä¾‹å­ï¼š 123456def get_adder(summand1): """Returns a function that adds numbers to a given number.""" def adder(summand2): return summand1 + summand2 return adder è°ƒç”¨æ–¹å¼sum = get_adder(summand1)(summand2) 2.16.2 ä¼˜ç‚¹ ç»“æžœæ›´åŠ æ¸…æ™°ï¼Œå¯¹Lispå’ŒScheme(Haskellï¼ŒMLç­‰)ç¨‹åºå‘˜å‹å¥½ 2.16.3 ç¼ºç‚¹ å¯èƒ½ä¼šäº§ç”Ÿä»¤äººè´¹è§£çš„bugã€‚ ä¾‹å¦‚è¿™ä¸ªä¾æ® PEP 0227 çš„ä¾‹å­: 12345678910i = 4def foo(x): def bar(): print(i, end='') # ... # A bunch of code here # ... for i in x: # Ah, i *is* local to foo, so this is what bar sees print(i, end='') bar() å› æ­¤ foo([1, 2, 3]) ä¼šæ‰“å° 1 2 3 3 ï¼Œä¸æ˜¯ 1 2 3 4 ã€‚ å› ä¸ºfooå‡½æ•°ä¸­çš„iè¢«éšå¼èµ‹å€¼ä¸º3ï¼Œ è€Œä¸æ˜¯ä½¿ç”¨å…¨å±€çš„4ã€‚ 2.16.4 æŽ¨è éžå¸¸ç†Ÿæ‚‰è¯¥ç‰¹æ€§çš„å¼€å‘è€…å¯ä»¥ä½¿ç”¨ã€‚å¦åˆ™æ…Žç”¨ã€‚ é—­åŒ…ä¼šæœ‰ä¸€äº›é—®é¢˜æ¯”å¦‚ï¼š 12345678910No:def count(): fs = [] for i in range(1, 4): def f(): return i*i fs.append(f) return fsf1, f2, f3 = count() ä½ å¯èƒ½è®¤ä¸ºè°ƒç”¨f1()ï¼Œf2()å’Œf3()ç»“æžœåº”è¯¥æ˜¯1ï¼Œ4ï¼Œ9ï¼Œä½†å®žé™…ç»“æžœæ˜¯ï¼š 123456&gt;&gt;&gt; f1()9&gt;&gt;&gt; f2()9&gt;&gt;&gt; f3()9 è§£é‡Šï¼šè¿”å›žå‡½æ•°å¼•ç”¨å˜é‡iï¼Œä½†æ˜¯å®ƒå¹¶ä¸æ˜¯ç«‹å³æ‰§è¡Œçš„ï¼Œè€Œæ˜¯å»¶è¿Ÿæ‰§è¡Œã€‚ç­‰åˆ°3ä¸ªå‡½æ•°éƒ½è¿”å›žæ—¶ï¼Œå®ƒä»¬æ‰€å¼•ç”¨çš„å˜é‡iå·²ç»å˜æˆäº†3ï¼Œå› æ­¤æœ€ç»ˆç»“æžœä¸º9ã€‚ å¦‚æžœä¸€å®šè¦å¼•ç”¨å¾ªçŽ¯å˜é‡æ€Žä¹ˆåŠžï¼Ÿæ–¹æ³•æ˜¯å†åˆ›å»ºä¸€ä¸ªå‡½æ•°ç«‹å³æ‰§è¡Œï¼Œç”¨è¯¥å‡½æ•°çš„å‚æ•°ç»‘å®šå¾ªçŽ¯å˜é‡å½“å‰çš„å€¼ï¼Œæ— è®ºè¯¥å¾ªçŽ¯å˜é‡åŽç»­å¦‚ä½•æ›´æ”¹ï¼Œå·²ç»‘å®šåˆ°å‡½æ•°å‚æ•°çš„å€¼ä¸å˜ï¼š 12345678910Yes:def count(): def f(j): def g(): return j*j return g fs = [] for i in range(1, 4): fs.append(f(i)) # f(i)ç«‹åˆ»è¢«æ‰§è¡Œï¼Œå› æ­¤içš„å½“å‰å€¼è¢«ä¼ å…¥f() return fs 1234567&gt;&gt;&gt; f1, f2, f3 = count()&gt;&gt;&gt; f1()1&gt;&gt;&gt; f2()4&gt;&gt;&gt; f3()9 è¿”å›žé—­åŒ…æ—¶ç‰¢è®°ï¼šè¿”å›žå‡½æ•°ä¸è¦å¼•ç”¨ä»»ä½•å¾ªçŽ¯å˜é‡ï¼Œæˆ–è€…åŽç»­ä¼šå‘ç”Ÿå˜åŒ–çš„å˜é‡ã€‚ 2.17 å‡½æ•°å’Œæ–¹æ³•è£…é¥°å™¨(Function and Method Decorators) ä½¿ç”¨è£…é¥°å™¨ã€‚é¿å…ä½¿ç”¨@staticmethodä»¥åŠé™åˆ¶ä½¿ç”¨@classmethod 2.17.1 è§£é‡Š ç”¨äºŽå‡½æ•°åŠæ–¹æ³•çš„è£…é¥°å™¨ (ä¹Ÿå°±æ˜¯@æ ‡è®°)ã€‚ä¸€ä¸ªæµè¡Œçš„è£…é¥°å™¨æ˜¯@propertyç”¨äºŽæŠŠæ™®é€šçš„æ–¹æ³•è½¬åŒ–æˆå±žæ€§ã€‚è£…é¥°å™¨ä¹Ÿå…è®¸ç”±ç”¨æˆ·è‡ªå®šä¹‰ã€‚æ¯”å¦‚my_decoratorï¼š 1234class C: @my_decorator def method(self): # method body ... ç­‰åŒäºŽ 1234class C: def Methodmethod(self): # method body ... Methodmethod = MyDecoratormy_decorator(Methodmethod) 2.17.2 ä¼˜ç‚¹ ä¼˜é›…åœ°å®šä¹‰äº†ï¼Œå‡å°‘é‡å¤çš„ä»£ç ï¼Œä»Žçºµå‘ä¸Šå‡å°‘ä»£ç çš„è€¦åˆç¨‹åº¦ã€‚å…·æœ‰é¢å‘åˆ‡é¢ç¼–ç¨‹çš„ä¼˜ç‚¹ã€‚ 2.17.3 ç¼ºç‚¹ è£…é¥°å™¨ä¼šä¿®æ”¹å‡½æ•°çš„å‚æ•°æˆ–è€…è¿”å›žå€¼ï¼Œè¿™äº›æ“ä½œéƒ½æ˜¯éšå¼çš„ã€‚å¦å¤–è£…é¥°å™¨åœ¨å¯¼å…¥æ—¶(import time)ä¸Žå‡½æ•°ç»‘å®šç”Ÿæ•ˆã€‚è£…é¥°å™¨ä¸­äº§ç”Ÿçš„é”™è¯¯ä¼šæ›´åŠ éš¾è¿½æŸ¥ã€‚ 2.17.4 æŽ¨è å¦‚æžœæœ‰éžå¸¸æ˜Žæ˜¾çš„ä¼˜ç‚¹(ä»£ç å¤ç”¨ï¼Œé¢å‘åˆ‡é¢ç¼–ç¨‹)ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨å®ƒã€‚è£…é¥°å™¨éœ€è¦éµå®ˆå’Œå‡½æ•°ä¸€æ ·çš„å¯¼å…¥å’Œå‘½åè§„åˆ™ã€‚è£…é¥°å™¨çš„æ–‡æ¡£éœ€è¦è¯´æ˜Žè¿™æ˜¯ä¸€ä¸ªè£…é¥°å™¨ã€‚ä¸ºè£…é¥°å™¨ç¼–å†™å¥å£®çš„å•å…ƒæµ‹è¯•ã€‚ é¿å…è£…é¥°å™¨å¯¹å¤–éƒ¨çš„ä¾èµ–(æ¯”å¦‚ä¸è¦ä¾èµ–æ–‡ä»¶ï¼Œsocketï¼Œæ•°æ®åº“è¿žæŽ¥ç­‰)ã€‚è¦ä¿è¯è£…é¥°å™¨çš„æœ‰æ•ˆè°ƒç”¨åœ¨ä»»ä½•æƒ…å†µä¸‹éƒ½æ˜¯æˆåŠŸçš„ã€‚ è£…é¥°å™¨æ˜¯ä¸€ç§ç‰¹æ®Šçš„â€œé¡¶å±‚ä»£ç â€(top level code)ã€‚ å°‘ç”¨@staticmethodã€‚å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œç›´æŽ¥ä½¿ç”¨æ¨¡å—çº§çš„å‡½æ•°æ›´åŠ é€‚åˆè€Œä¸æ˜¯è·Ÿç±»è€¦åˆåœ¨ä¸€èµ·ã€‚å°‘éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œåœ¨å‡½æ•°åªè¢«è¯¥ç±»ä½¿ç”¨çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥ä½¿ç”¨@staticmethodã€‚ ä»…åœ¨å†™æž„é€ å‡½æ•°æ—¶ä½¿ç”¨@classmethodã€‚å¦‚æžœè¦ä¿®æ”¹ç±»å˜é‡çš„å€¼ï¼Œä¹Ÿéœ€è¦ä½¿ç”¨@classmethodã€‚ 2.18 çº¿ç¨‹(Threading) ä¸è¦ä¾èµ–å†…å»ºç±»åž‹(built-in)çš„åŽŸå­æ€§ã€‚ 2.18.1 æŽ¨è è™½ç„¶Pythonçš„å†…å»ºç±»åž‹æ¯”å¦‚å­—å…¸çš„æ“ä½œçœ‹ä¸ŠåŽ»éƒ½æ˜¯åŽŸå­çš„ï¼Œä½†æ˜¯åœ¨æŸäº›æƒ…å†µä¸‹å®ƒä»¬ä»ç„¶ä¸æ˜¯åŽŸå­çš„(å¦‚æžœ__hash__æˆ–__eq__ä»¥Pythonä»£ç å®žçŽ°)ï¼Œå› æ­¤ä»–ä»¬çš„åŽŸå­æ€§æ˜¯ä¸å¯é çš„ã€‚ ä½¿ç”¨Queueä½œä¸ºçº¿ç¨‹é—´çš„æ•°æ®é€šä¿¡æ–¹å¼ã€‚å…¶å®ƒæƒ…å†µï¼Œä½¿ç”¨threadingæ¨¡å—å’Œé”åŽŸè¯­(locking primitives)ã€‚å­¦ä¹ conditionçš„é€‚ç”¨åœºæ™¯ï¼Œä½ å¯ä»¥ä½¿ç”¨threading.Conditionæ¥å–ä»£ä½Žçº§åˆ«çš„Lockã€‚ 2.19 å¼ºå¤§çš„ç‰¹æ€§(Power Features) å¼ºå¤§ä¸ç­‰äºŽå¥½ç”¨ï¼Œ ç›¸åå¼ºå¤§çš„ç‰¹æ€§æ­£å¼å› ä¸ºå®ƒèƒ½åšçš„äº‹æƒ…è¿‡äºŽå¼ºå¤§ï¼Œå®¹æ˜“è®©åˆä¸­çº§ç¨‹åºå‘˜ç¿»èˆ¹ã€‚ 2.19.1 è§£é‡Š Pythonæ˜¯éžå¸¸çµæ´»çš„è¯­è¨€ï¼Œ å®ƒä¸ºä½ æä¾›äº†å¾ˆå¤šèŠ±å“¨çš„ç‰¹æ€§ï¼Œè¯¸å¦‚å…ƒç±»(metaclasses)ï¼Œå­—èŠ‚ç (bytecode)è®¿é—®, ä»»æ„ç¼–è¯‘(on-the-fly compilation)ï¼ŒåŠ¨æ€ç»§æ‰¿(dynamic inheritance)ï¼Œå¯¹è±¡çˆ¶ç±»é‡å®šä¹‰(object reparenting)ï¼Œå¯¼å…¥é»‘å®¢(import hacks), åå°„ï¼Œç³»ç»Ÿå†…ä¿®æ”¹(modification of system internals)ç­‰ç­‰ã€‚ 2.19.2 ä¼˜ç‚¹ å¼ºå¤§çš„è¯­è¨€ç‰¹æ€§ï¼Œå¯ä»¥è®©ä½ çš„ä»£ç æ›´åŠ ç®€æ´ç´§å‡‘ã€‚ 2.19.3 ç¼ºç‚¹ å¥‡æ·«æŠ€å·§çš„ä»£ç ä¼šå˜å¾—éš¾ä»¥é˜…è¯»å’Œè°ƒè¯•ã€‚åˆšå¼€å§‹å†™ä¸‹è¿™äº›ä»£ç æ—¶è¿˜èƒ½ç†è§£ï¼Œä½†æ˜¯å½“åŽç»­å›žé¡¾è¿™äº›ä»£ç æ—¶ï¼Œç†è§£èµ·æ¥è¿˜ä¸å¦‚ä¸€äº›è™½ç„¶å†™å¾—æ¯”è¾ƒé•¿è¿˜æ˜¯è¡¨è¾¾æ„æ€å¾ˆç›´æŽ¥çš„ä»£ç ã€‚ 2.19.4 æŽ¨è é™¤éžä½ å¯¹ä½ å°†è¦ä½¿ç”¨çš„ç‰¹æ€§ç†è§£éžå¸¸æ·±å…¥(ä½ èƒ½å¤Ÿç†è§£ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆåšï¼Œä»¥åŠæ‡‚å¾—æ€Žä¹ˆæ­£ç¡®åœ°åŽ»åš)ï¼Œ å¦åˆ™ä¸è¦ä½¿ç”¨è¿™äº›å¥‡æ·«æŠ€å·§ã€‚ æœ‰äº›ç‰¹æ€§ç»è¿‡å°è£…åŽï¼Œæˆ‘ä»¬è®¤ä¸ºå®ƒæ˜¯ç›¸å¯¹å®‰å…¨å¹¶ä¸”å®¹æ˜“ç†è§£çš„ã€‚ éƒ¨åˆ†ä½¿ç”¨äº†è¿™äº›ç‰¹æ€§çš„æ ‡å‡†åº“çš„æ¨¡å—å’Œç±»æ˜¯å…è®¸ä½¿ç”¨çš„(æ¯”å¦‚abc.ABCMetaï¼Œcollections.namedtupleå’Œenum)ã€‚ 2.20 çŽ°ä»£åŒ–Python(Modern Python: Python 3 and from _future_ imports) Python3å³å°†å¼€å¯æ–°çš„æ—¶ä»£ï¼ ä½†æ˜¯æŸäº›é¡¹ç›®è¿˜ä¸æ”¯æŒPython3ï¼Œ å› æ­¤é‚£äº›é¡¹ç›®éœ€è¦è¿›è¡Œè¿ç§»æˆ–æ˜¯å…¼å®¹ã€‚ 2.20.1 è§£é‡Š Python3æ˜¯Pythonçš„ä¸€ä¸ªé‡è¦çš„æ”¹å˜ã€‚ä½†æ˜¯Python2çš„ä»£ç ä»ç„¶å­˜åœ¨ï¼Œè¿™æ—¶å€™éœ€è¦åˆ©ç”¨futureæ¨¡å—æ¥è¿›è¡Œå…¼å®¹ï¼Œè€Œä¸éœ€è¦åšå¤ªå¤§çš„æ”¹åŠ¨ã€‚ 2.20.2 ä¼˜ç‚¹ Python3çš„è¯­æ³•æ›´åŠ ä¼˜é›…ã€‚ 2.20.3 ç¼ºç‚¹ futureæ¨¡å—å¯èƒ½æœ‰äº›ä¸‘ã€‚æ²¡é”™ï¼Œæ¯•ç«Ÿfutureæ˜¯ä¸ºäº†å…¼å®¹æ‰€åšçš„å¦¥åã€‚ 2.20.4 æŽ¨è 123from __future__ import absolute_importfrom __future__ import divisionfrom __future__ import print_function å¦‚æžœä½ å¯¹è¿™äº›å…¼å®¹ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆåšä¸å¤ªäº†è§£ï¼Œä½ å¯ä»¥é˜…è¯» absolute imports, new / division behavior, and the print functionã€‚ future, sixæ¨¡å—å¯ä»¥å¸®åŠ©ä½ è¿›è¡ŒPython2å’Œ3çš„å…¼å®¹ã€‚ å¦‚æžœæ²¡æœ‰å…¼å®¹Python2çš„å¿…è¦ï¼Œè¯·é€‰æ‹©Python3.5+çš„ç‰ˆæœ¬è¿›è¡Œç¼–ç¨‹ã€‚ ä»”ç»†é˜…è¯»Python2åˆ°3è¿ç§»ï¼Œå¹¶å¯¹è‡ªå·±çš„é¡¹ç›®è¿›è¡Œæ”¹é€ ã€‚ðŸ˜„ åœ¨100%çš„æƒ…å†µä¸‹ä¸å»ºè®®å†ä½¿ç”¨Python2è¿›è¡Œç¼–ç¨‹ã€‚ 2.21 ä»£ç ç±»åž‹æ³¨é‡Š(Type Annotated Code) éžå¸¸å¥½çš„ç‰¹æ€§ï¼Œ ä½ å¯ä»¥å¯¹Python3.5+çš„ä»£ç è¿›è¡Œæ³¨é‡Šï¼Œå‚è€ƒ PEP-484ã€‚ä»Žpython3.6å¼€å§‹è¿˜å¢žåŠ äº†å˜é‡æ³¨é‡Šï¼Œå‚è€ƒPEP-0526ã€‚ 2.21.1 è§£é‡Š ç±»åž‹æ³¨é‡Štype annotations(æˆ–è€…è¯´ç±»åž‹æç¤ºtype hints)æ˜¯å¯¹å‡½æ•°å‚æ•°å’Œè¿”å›žå€¼è¿›è¡Œæ³¨é‡Šã€‚ ç±»åž‹æ³¨é‡Šï¼š 1def func(a: int) -&gt; List[int]: å˜é‡æ³¨é‡Šï¼š some_number: int valuesome_list: List[int] = [] 2.21.2 ä¼˜ç‚¹ ç±»åž‹æ³¨é‡Šæé«˜äº†ä½ ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚ç±»åž‹æ£€æŸ¥å™¨å¯ä»¥æ ¹æ®ç±»åž‹æ³¨é‡ŠæŠŠå¯èƒ½åœ¨è¿è¡Œæ—¶å‘ç”Ÿçš„é”™è¯¯æå‰æ£€æŸ¥å‡ºæ¥ã€‚æé«˜äº†é¡¹ç›®çš„å·¥ç¨‹å¼ºåº¦ã€‚ 2.21.3 ç¼ºç‚¹ Python3.5+æ”¯æŒã€‚ä½ éœ€è¦ä¸åœæ›´æ–°è¿™äº›ç±»åž‹å£°æ˜Žã€‚ä½†æ˜¯è¿™ä¼šè®©ä½ å¯¹ä½ çš„ä»£ç éžå¸¸ç†Ÿæ‚‰ï¼Œå…¶å®žä¹Ÿç®—æ˜¯ä¸€ä¸ªä¼˜ç‚¹ã€‚ å¯èƒ½ä¼šé™åˆ¶å¼€å‘è€…ä½¿ç”¨ä¸€äº›Pythonå¥‡æ·«æŠ€å·§çš„èƒ½åŠ›ã€‚ 2.21.4 æŽ¨è å¦‚æžœä½ çš„é¡¹ç›®å¤æ‚åˆ°ä½ å¿…é¡»è¿›è¡Œç±»åž‹æ³¨é‡Šï¼Œé‚£ä¹ˆè¿™ä¸€å®šæ˜¯ä¸€ä¸ªå€¼å¾—ä¸€è¯•çš„ç‰¹æ€§ã€‚ æŠŠä»£ç å˜æˆç±»ä¼¼é™æ€è¯­è¨€çš„é£Žæ ¼å¹¶ä¸æ˜¯åœ¨å¼€å€’è½¦ï¼Œåœ¨ä¸€ä¸ªå¤§åž‹é¡¹ç›®ä¸‹è¿™æ˜¯å¿…é¡»è¦åšçš„äº‹æƒ…ã€‚ 3 Pythoné£Žæ ¼è§„èŒƒ 3.1 ä»£ç æ ¼å¼åŒ–å·¥å…· ä½¿ç”¨ä»£ç æ ¼å¼åŒ–æ’ä»¶æ ¼å¼åŒ–ä»£ç ã€‚ Pycharm ä½¿ç”¨Cmd + Option + Lï¼ˆWindowsï¼šControl+Alt+Lï¼‰å¿«æ·é”®è¿›è¡Œæ ¼å¼åŒ–ã€‚ Visual Studio Code é€šè¿‡pipå®‰è£…flake8å’Œyapf å®‰è£…VSCodeçš„Pythonæ‰©å±• ä½¿ç”¨Option+Shift+Fï¼ˆWindowsï¼šAlt+Shift+Fï¼‰ 3.2 åˆ†å·(Semicolons) ä¸è¦åœ¨è¡Œå°¾æ·»åŠ åˆ†å·ï¼Œä¹Ÿä¸è¦ç”¨åˆ†å·å°†ä¸¤æ¡å‘½ä»¤æ”¾åœ¨åŒä¸€è¡Œ 123Yes:import aimport b 12No:import a;import b; 3.3 è¡Œé•¿åº¦(Line length) æ¯è¡Œä¸è¶…è¿‡120ä¸ªå­—ç¬¦ã€‚ ä¾‹å¤–ï¼š å¾ˆé•¿çš„å¯¼å…¥è¯­å¥ã€‚ URLï¼Œè·¯å¾„åï¼Œæˆ–è€…æ³¨é‡Šä¸­éžå¸¸é•¿çš„flagã€‚ ä¸è¦ä½¿ç”¨åæ–œæ æ¢è¡Œã€‚ Pythonä¼šæŠŠ(),[],{}ä¸­çš„è¡Œè‡ªåŠ¨éšå¼åœ°è¿žæŽ¥åˆ°ä¸€èµ·ï¼Œ å¯ä»¥åˆ©ç”¨è¿™ä¸ªç‰¹æ€§è¿žæŽ¥è¡Œã€‚ 12345Yes: foo_bar(self, width, height, color='black', design=None, x='foo', emphasis=None, highlight=0) if (width == 0 and height == 0 and color == 'red' and emphasis == 'strong'): å¦‚æžœä¸€ä¸ªå­—ç¬¦ä¸²åœ¨ä¸€è¡Œæ”¾ä¸ä¸‹ï¼Œ ä½¿ç”¨åœ†æ‹¬å·æ¥è¿›è¡Œéšå¼çš„è¿žæŽ¥ï¼š 12x = ('This will build a very long long ' 'long long long long long long string') åœ¨æ³¨é‡Šä¸­ï¼Œå¯ä»¥æŠŠé•¿çš„URLæ”¾åœ¨ä¸€è¡Œä¸Šã€‚ 12Yes: # See details at # http://www.example.com/us/developer/documentation/api/content/v2.0/csv_file_name_extension_full_specification.html 123No: # See details at # http://www.example.com/us/developer/documentation/api/content/\ # v2.0/csv_file_name_extension_full_specification.html åœ¨ä½¿ç”¨withè¯­å¥æ—¶ï¼Œ ä¸‰ä¸ªä»¥ä¸Šçš„è¡¨è¾¾å¼å¯ä»¥è¢«åæ–œæ åˆ†ä¸ºå¤šè¡Œã€‚å¯¹äºŽä¸¤è¡Œè¡¨è¾¾å¼ï¼Œä½¿ç”¨åµŒå¥—withã€‚ 1234Yes: with very_long_first_expression_function() as spam, \ very_long_second_expression_function() as beans, \ third_thing() as eggs: place_order(eggs, beans, spam, beans) 123No: with VeryLongFirstExpressionFunction() as spam, \ VeryLongSecondExpressionFunction() as beans: PlaceOrder(eggs, beans, spam, beans) 123Yes: with very_long_first_expression_function() as spam: with very_long_second_expression_function() as beans: place_order(beans, spam) 3.4 æ‹¬å·(Parentheses) å°‘ç”¨æ‹¬å·ã€‚ é™¤éžæ˜¯ä¸ºäº†å®žçŽ°è¡Œä¸Žè¡Œä¹‹é—´çš„è¿žæŽ¥ï¼Œå¦åˆ™ä¸è¦åœ¨è¿”å›žè¯­å¥æˆ–æ¡ä»¶è¯­å¥ä¸­ä½¿ç”¨æ‹¬å·ã€‚åœ¨å…ƒç¥–ä¸¤è¾¹ä½¿ç”¨æ‹¬å·æ˜¯å¿…è¦çš„ã€‚ 1234567891011121314Yes: if foo: bar() while x: x = bar() if x and y: bar() if not x: bar() # å¯¹äºŽåªåŒ…å«ä¸€é¡¹çš„å…ƒç¥–ï¼Œæ¯”èµ·onesie = fooæ¥è¯´, åŠ ä¸Šæ‹¬å·æ›´åŠ æ˜Žæ˜¾ onesie = (foo,) return foo return spam, beans return (spam, beans) for (x, y) in dict.items(): ... 12345No: if (x): bar() if not(x): bar() return (foo) 3.5 ç¼©è¿›(Indentation) ä½¿ç”¨4ä¸ªç©ºæ ¼ç¼©è¿›ä»£ç ã€‚ ä¸è¦ä½¿ç”¨tabï¼å¯¹äºŽè¡Œé“¾æŽ¥çš„æƒ…å†µï¼Œä½¿ç”¨åž‚ç›´å¯¹é½ï¼š 123456789101112131415161718192021222324252627Yes: # Aligned with opening delimiter foo = long_function_name(var_one, var_two, var_three, var_four) meal = (spam, beans) # Aligned with opening delimiter in a dictionary foo = &#123; long_dictionary_key: value1 + value2, ... &#125; # 4-space hanging indent; nothing on first line foo = long_function_name( var_one, var_two, var_three, var_four) meal = ( spam, beans) # 4-space hanging indent in a dictionary foo = &#123; long_dictionary_key: long_dictionary_value, ... &#125; 1234567891011121314151617No: # Stuff on first line forbidden foo = long_function_name(var_one, var_two, var_three, var_four) meal = (spam, beans) # 2-space hanging indent forbidden foo = long_function_name( var_one, var_two, var_three, var_four) # No hanging indent in a dictionary foo = &#123; long_dictionary_key: long_dictionary_value, ... &#125; 3.6 ç©ºè¡Œ(Blank Lines) é¡¶å±‚çš„å®šä¹‰ä¹‹é—´ç©ºä¸¤è¡Œï¼Œ æ–¹æ³•å®šä¹‰ä¹‹é—´ç©ºä¸€è¡Œã€‚ é¡¶å±‚å®šä¹‰ä¹‹é—´ç©ºä¸¤è¡Œ, æ¯”å¦‚å‡½æ•°æˆ–è€…ç±»å®šä¹‰ã€‚æ–¹æ³•å®šä¹‰ï¼Œç±»å®šä¹‰ä¸Žç¬¬ä¸€ä¸ªæ–¹æ³•ä¹‹é—´ï¼Œéƒ½åº”è¯¥ç©ºä¸€è¡Œã€‚å‡½æ•°æˆ–æ–¹æ³•ä¸­, æŸäº›åœ°æ–¹è¦æ˜¯ä½ è§‰å¾—åˆé€‚, å°±ç©ºä¸€è¡Œã€‚ 3.7 ç©ºæ ¼(Whitespace) æŒ‰ç…§æ ‡å‡†çš„æŽ’ç‰ˆè§„èŒƒä½¿ç”¨æ ‡ç‚¹ä¸¤è¾¹çš„ç©ºæ ¼ã€‚ æ‹¬å·å†…ä¸è¦æœ‰ç©ºæ ¼ã€‚ 12Yes: spam(ham[1], &#123;eggs: 2&#125;, [])No: spam( ham[ 1 ], &#123; eggs: 2 &#125;, [ ] ) ä¸è¦åœ¨é€—å·ï¼Œåˆ†å·ï¼Œå†’å·å‰é¢åŠ ç©ºæ ¼ï¼Œåœ¨ä»–ä»¬åŽé¢åŠ ã€‚è¡Œå°¾ä¸ç”¨åŠ ç©ºæ ¼ã€‚ 123Yes: if x == 4: print(x, y) x, y = y, x 123No: if x == 4 : print(x , y) x , y = y , x å‚æ•°åˆ—è¡¨ï¼Œç´¢å¼•æˆ–åˆ‡ç‰‡çš„å·¦æ‹¬å·å‰ä¸åº”è¯¥åŠ ç©ºæ ¼ã€‚ 1234Yes: spam(1)No: spam (1)Yes: dict['key'] = list[index]No: dict ['key'] = list [index] åœ¨åˆ‡ç‰‡ä¸­ï¼Œåº”è¯¥æ·»åŠ é€‚å½“çš„ç©ºæ ¼ã€‚ 123456Yes:ham[1:9], ham[1:9:3], ham[:9:3], ham[1::3], ham[1:9:]ham[lower:upper], ham[lower:upper:], ham[lower::step]ham[lower+offset : upper+offset]ham[: upper_fn(x) : step_fn(x)], ham[:: step_fn(x)]ham[lower + offset : upper + offset] 12345No:ham[lower + offset:upper + offset]ham[1: 9], ham[1 :9], ham[1:9 :3]ham[lower : : upper]ham[ : upper] åœ¨äºŒå…ƒæ“ä½œç¬¦ä¸¤è¾¹éƒ½åŠ ä¸Šä¸€ä¸ªç©ºæ ¼, æ¯”å¦‚èµ‹å€¼(=)ï¼Œ æ¯”è¾ƒ(==, &lt;, &gt;, !=, &lt;&gt;, &lt;=, &gt;=, in, not in, is, is not), å¸ƒå°”(and, or, not)ã€‚ 12Yes: x == 1No: x&lt;1 å½“=ç”¨äºŽæŒ‡ç¤ºå…³é”®å­—å‚æ•°æˆ–é»˜è®¤å‚æ•°å€¼æ—¶ï¼Œä¸è¦åœ¨å…¶ä¸¤ä¾§ä½¿ç”¨ç©ºæ ¼ã€‚ä½†æ˜¯åœ¨è¿›è¡Œç±»åž‹æ³¨é‡Šçš„æ—¶å€™ï¼Œå…è®¸ä½¿ç”¨ç©ºæ ¼ã€‚ 12345Yes: def complex(real, imag=0.0): return Magic(r=real, i=imag)Yes: def complex(real, imag: float = 0.0): return Magic(r=real, i=imag)No: def complex(real, imag = 0.0): return Magic(r = real, i = imag)No: def complex(real, imag: float=0.0): return Magic(r = real, i = imag) ä¸è¦ç”¨ç©ºæ ¼æ¥åž‚ç›´å¯¹é½å¤šè¡Œé—´çš„æ ‡è®°, å› ä¸ºè¿™ä¼šæˆä¸ºç»´æŠ¤çš„è´Ÿæ‹…(é€‚ç”¨äºŽ:ï¼Œ#ï¼Œ=ç­‰)ï¼Œä¿æŒå·¦å¯¹é½å°±å¯ä»¥ï¼š 12345678Yes: foo = 1000 # comment long_name = 2 # comment that should not be aligned dictionary = &#123; 'foo': 1, 'long_name': 2, &#125; 12345678No: foo = 1000 # comment long_name = 2 # comment that should not be aligned dictionary = &#123; 'foo' : 1, 'long_name': 2, &#125; 3.8 SheBangè¡Œ(Shebang Line) åœ¨è®¡ç®—é¢†åŸŸä¸­ï¼ŒShebang(ä¹Ÿç§°ä¸º Hashbang )æ˜¯ä¸€ä¸ªç”±äº•å·å’Œå¹å·æž„æˆçš„å­—ç¬¦åºåˆ— #! ï¼Œå…¶å‡ºçŽ°åœ¨æ–‡æœ¬æ–‡ä»¶çš„ç¬¬ä¸€è¡Œçš„å‰ä¸¤ä¸ªå­—ç¬¦ã€‚ åœ¨æ–‡ä»¶ä¸­å­˜åœ¨ Shebang çš„æƒ…å†µä¸‹ï¼Œç±» Unix æ“ä½œç³»ç»Ÿçš„ç¨‹åºè½½å…¥å™¨ä¼šåˆ†æž Shebang åŽçš„å†…å®¹ï¼Œå°†è¿™äº›å†…å®¹ä½œä¸ºè§£é‡Šå™¨æŒ‡ä»¤ï¼Œå¹¶è°ƒç”¨è¯¥æŒ‡ä»¤ï¼Œå¹¶å°†è½½æœ‰ Shebang çš„æ–‡ä»¶è·¯å¾„ä½œä¸ºè¯¥è§£é‡Šå™¨çš„å‚æ•°ã€‚ å¤§éƒ¨åˆ†.pyæ–‡ä»¶ä¸å¿…ä»¥#!ä½œä¸ºæ–‡ä»¶çš„å¼€å¤´ã€‚ æ ¹æ® PEP-394 ï¼Œç¨‹åºçš„mainæ–‡ä»¶åº”è¯¥ä»¥ #!/usr/bin/python2æˆ–è€… #!/usr/bin/python3å¼€å§‹ã€‚ 3.9 æ³¨é‡Šå’Œæ–‡æ¡£å­—ç¬¦ä¸²(Comments and Docstrings) ç¡®ä¿æ­£ç¡®ä½¿ç”¨æ¨¡å—ã€å‡½æ•°ã€æ–¹æ³•çš„æ–‡æ¡£å­—ç¬¦ä¸²å’Œè¡Œå†…æ³¨é‡Šã€‚ 3.9.1 æ–‡æ¡£å­—ç¬¦ä¸²(Docstrings) Pythonæœ‰ä¸€ç§ç‹¬ä¸€æ— äºŒçš„çš„æ³¨é‡Šæ–¹å¼ï¼šä½¿ç”¨æ–‡æ¡£å­—ç¬¦ä¸²ã€‚æ–‡æ¡£å­—ç¬¦ä¸²æ˜¯åŒ…ï¼Œæ¨¡å—ï¼Œç±»æˆ–å‡½æ•°é‡Œçš„ç¬¬ä¸€ä¸ªè¯­å¥ã€‚è¿™äº›å­—ç¬¦ä¸²å¯ä»¥é€šè¿‡å¯¹è±¡çš„__doc__æˆå‘˜è¢«è‡ªåŠ¨æå–ï¼Œå¹¶ä¸”è¢«pydocæ‰€ç”¨ã€‚ (ä½ å¯ä»¥åœ¨ä½ çš„æ¨¡å—ä¸Šè¿è¡Œpydocè¯•ä¸€æŠŠï¼Œ çœ‹çœ‹å®ƒé•¿ä»€ä¹ˆæ ·)ã€‚ æˆ‘ä»¬å¯¹æ–‡æ¡£å­—ç¬¦ä¸²çš„æƒ¯ä¾‹æ˜¯ä½¿ç”¨ä¸‰é‡åŒå¼•å·&quot;&quot;&quot;( PEP-257 )ã€‚ ä¸€ä¸ªæ–‡æ¡£å­—ç¬¦ä¸²åº”è¯¥è¿™æ ·ç»„ç»‡ï¼šé¦–å…ˆæ˜¯ä¸€è¡Œä»¥å¥å·ï¼Œé—®å·æˆ–æ„Ÿå¹å·ç»“å°¾çš„æ¦‚è¿°(æˆ–è€…è¯¥æ–‡æ¡£å­—ç¬¦ä¸²å•çº¯åªæœ‰ä¸€è¡Œ)ã€‚æŽ¥ç€æ˜¯ä¸€ä¸ªç©ºè¡Œã€‚æŽ¥ç€æ˜¯æ–‡æ¡£å­—ç¬¦ä¸²å‰©ä¸‹çš„éƒ¨åˆ†ï¼Œå®ƒåº”è¯¥ä¸Žæ–‡æ¡£å­—ç¬¦ä¸²çš„ç¬¬ä¸€è¡Œçš„ç¬¬ä¸€ä¸ªå¼•å·å¯¹é½ã€‚ä¸‹é¢æœ‰æ›´å¤šæ–‡æ¡£å­—ç¬¦ä¸²çš„æ ¼å¼åŒ–è§„èŒƒã€‚ 3.9.2 æ¨¡å—(Modules) æ¯ä¸ªæ–‡ä»¶åº”è¯¥åŒ…å«ä¸€ä¸ªè®¸å¯è¯ã€‚æ ¹æ®é¡¹ç›®ä½¿ç”¨çš„è®¸å¯(ä¾‹å¦‚ï¼šApache 2.0ï¼ŒBSDï¼ŒLGPLï¼ŒGPL)ï¼Œé€‰æ‹©åˆé€‚çš„è®¸å¯è¯ã€‚ 3.9.3 å‡½æ•°å’Œæ–¹æ³•(Functions and Methods) ä¸‹æ–‡æ‰€æŒ‡çš„å‡½æ•°ï¼ŒåŒ…æ‹¬å‡½æ•°ã€æ–¹æ³•ä»¥åŠç”Ÿæˆå™¨ã€‚ ä¸€ä¸ªå‡½æ•°å¿…é¡»è¦æœ‰æ–‡æ¡£å­—ç¬¦ä¸²ï¼Œé™¤éžå®ƒæ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š å¤–éƒ¨ä¸å¯è§ éžå¸¸çŸ­å° ç®€å•æ˜Žäº† æ–‡æ¡£å­—ç¬¦ä¸²åº”è¯¥åŒ…å«å‡½æ•°åšä»€ä¹ˆï¼Œä»¥åŠè¾“å…¥å’Œè¾“å‡ºçš„è¯¦ç»†æè¿°ã€‚é€šå¸¸ï¼Œä¸åº”è¯¥æè¿°&quot;æ€Žä¹ˆåš&quot;ï¼Œé™¤éžæ˜¯ä¸€äº›å¤æ‚çš„ç®—æ³•ã€‚æ–‡æ¡£å­—ç¬¦ä¸²åº”è¯¥æä¾›è¶³å¤Ÿçš„ä¿¡æ¯ï¼Œå½“åˆ«äººç¼–å†™ä»£ç è°ƒç”¨è¯¥å‡½æ•°æ—¶ï¼Œä»–ä¸éœ€è¦çœ‹ä¸€è¡Œä»£ç ï¼Œåªè¦çœ‹æ–‡æ¡£å­—ç¬¦ä¸²å°±å¯ä»¥äº†ã€‚å¯¹äºŽå¤æ‚çš„ä»£ç ï¼Œåœ¨ä»£ç æ—è¾¹åŠ æ³¨é‡Šä¼šæ¯”ä½¿ç”¨æ–‡æ¡£å­—ç¬¦ä¸²æ›´æœ‰æ„ä¹‰ã€‚ å…³äºŽå‡½æ•°çš„å‡ ä¸ªæ–¹é¢åº”è¯¥åœ¨ç‰¹å®šçš„å°èŠ‚ä¸­è¿›è¡Œæè¿°è®°å½•ï¼Œè¿™å‡ ä¸ªæ–¹é¢å¦‚ä¸‹æ–‡æ‰€è¿°ã€‚æ¯èŠ‚åº”è¯¥ä»¥ä¸€ä¸ªæ ‡é¢˜è¡Œå¼€å§‹ã€‚æ ‡é¢˜è¡Œä»¥å†’å·ç»“å°¾ã€‚é™¤æ ‡é¢˜è¡Œå¤–ï¼ŒèŠ‚çš„å…¶ä»–å†…å®¹åº”è¢«ç¼©è¿›2ä¸ªç©ºæ ¼ã€‚ Args: åˆ—å‡ºæ¯ä¸ªå‚æ•°çš„åå­—å¹¶åœ¨åå­—åŽä½¿ç”¨ä¸€ä¸ªå†’å·å’Œä¸€ä¸ªç©ºæ ¼ï¼Œåˆ†éš”å¯¹è¯¥å‚æ•°çš„æè¿°ã€‚å¦‚æžœæè¿°å¤ªé•¿è¶…è¿‡äº†å•è¡Œ120å­—ç¬¦ï¼Œä½¿ç”¨2æˆ–è€…4ä¸ªç©ºæ ¼çš„æ‚¬æŒ‚ç¼©è¿›(ä¸Žæ–‡ä»¶å…¶ä»–éƒ¨åˆ†ä¿æŒä¸€è‡´)ã€‚æè¿°åº”è¯¥åŒ…æ‹¬æ‰€éœ€çš„ç±»åž‹å’Œå«ä¹‰ã€‚å¦‚æžœä¸€ä¸ªå‡½æ•°æŽ¥å—foo(å¯å˜é•¿åº¦å‚æ•°åˆ—è¡¨)æˆ–è€…**bar (ä»»æ„å…³é”®å­—å‚æ•°), åº”è¯¥è¯¦ç»†åˆ—å‡ºfooå’Œ**barã€‚ Returns: (æˆ–è€… Yields: ç”¨äºŽç”Ÿæˆå™¨) æè¿°è¿”å›žå€¼çš„ç±»åž‹å’Œè¯­ä¹‰ã€‚å¦‚æžœå‡½æ•°è¿”å›žNoneï¼Œè¿™ä¸€éƒ¨åˆ†å¯ä»¥çœç•¥ã€‚ Raises: åˆ—å‡ºä¸ŽæŽ¥å£æœ‰å…³çš„æ‰€æœ‰å¼‚å¸¸ã€‚ 12345678910111213141516171819202122232425262728293031&gt; def fetch_bigtable_rows(big_table, keys, other_silly_variable=None):&gt; &quot;&quot;&quot;Fetches rows from a Bigtable.&gt; &gt; Retrieves rows pertaining to the given keys from the Table instance&gt; represented by big_table. Silly things may happen if&gt; other_silly_variable is not None.&gt; &gt; Args:&gt; big_table: An open Bigtable Table instance.&gt; keys: A sequence of strings representing the key of each table row&gt; to fetch.&gt; other_silly_variable: Another optional variable, that has a much&gt; longer name than the other args, and which does nothing.&gt; &gt; Returns:&gt; A dict mapping keys to the corresponding table row data&gt; fetched. Each row is represented as a tuple of strings. For&gt; example:&gt; &gt; &#123;&apos;Serak&apos;: (&apos;Rigel VII&apos;, &apos;Preparer&apos;),&gt; &apos;Zim&apos;: (&apos;Irk&apos;, &apos;Invader&apos;),&gt; &apos;Lrrr&apos;: (&apos;Omicron Persei 8&apos;, &apos;Emperor&apos;)&#125;&gt; &gt; If a key from the keys argument is missing from the dictionary,&gt; then that row was not found in the table.&gt; &gt; Raises:&gt; IOError: An error occurred accessing the bigtable.Table object.&gt; &quot;&quot;&quot;&gt; pass&gt; 3.9.4 ç±»(Classes) ç±»åº”è¯¥åœ¨å…¶å®šä¹‰ä¸‹æœ‰ä¸€ä¸ªç”¨äºŽæè¿°è¯¥ç±»çš„æ–‡æ¡£å­—ç¬¦ä¸²ã€‚å¦‚æžœä½ çš„ç±»æœ‰å…¬å…±å±žæ€§(Attributes)ï¼Œé‚£ä¹ˆæ–‡æ¡£ä¸­åº”è¯¥æœ‰ä¸€ä¸ªå±žæ€§(Attributes)æ®µã€‚å¹¶ä¸”åº”è¯¥éµå®ˆå’Œå‡½æ•°å‚æ•°ç›¸åŒçš„æ ¼å¼ã€‚ 12345678910111213141516171819&gt; class SampleClass(object):&gt; &quot;&quot;&quot;Summary of class here.&gt; &gt; Longer class information....&gt; Longer class information....&gt; &gt; Attributes:&gt; likes_spam: A boolean indicating if we like SPAM or not.&gt; eggs: An integer count of the eggs we have laid.&gt; &quot;&quot;&quot;&gt; &gt; def __init__(self, likes_spam=False):&gt; &quot;&quot;&quot;Inits SampleClass with blah.&quot;&quot;&quot;&gt; self.likes_spam = likes_spam&gt; self.eggs = 0&gt; &gt; def public_method(self):&gt; &quot;&quot;&quot;Performs operation blah.&quot;&quot;&quot;&gt; 3.9.5 å—æ³¨é‡Šå’Œè¡Œæ³¨é‡Š(Block and Inline Comments) æœ€éœ€è¦å†™æ³¨é‡Šçš„æ˜¯ä»£ç ä¸­é‚£äº›æŠ€å·§æ€§çš„éƒ¨åˆ†ã€‚å¦‚æžœä½ åœ¨ä¸‹æ¬¡ ä»£ç å®¡æŸ¥ çš„æ—¶å€™å¿…é¡»è§£é‡Šä¸€ä¸‹ï¼Œé‚£ä¹ˆä½ åº”è¯¥çŽ°åœ¨å°±ç»™å®ƒå†™æ³¨é‡Šã€‚å¯¹äºŽå¤æ‚çš„æ“ä½œï¼Œåº”è¯¥åœ¨å…¶æ“ä½œå¼€å§‹å‰å†™ä¸Šè‹¥å¹²è¡Œæ³¨é‡Šã€‚å¯¹äºŽä¸æ˜¯ä¸€ç›®äº†ç„¶çš„ä»£ç ï¼Œåº”åœ¨å…¶è¡Œå°¾æ·»åŠ æ³¨é‡Šã€‚ 1234567&gt; # We use a weighted dictionary search to find out where i is in&gt; # the array. We extrapolate position based on the largest num&gt; # in the array and the array size and then do binary search to&gt; # get the exact number.&gt; &gt; if i &amp; (i-1) == 0: # true iff i is a power of 2&gt; ä¸ºäº†æé«˜å¯è¯»æ€§ï¼Œæ³¨é‡Šåº”è¯¥è‡³å°‘ç¦»å¼€ä»£ç 2ä¸ªç©ºæ ¼ã€‚ å¦ä¸€æ–¹é¢ï¼Œç»ä¸è¦æè¿°ä»£ç ã€‚ å‡è®¾é˜…è¯»ä»£ç çš„äººæ¯”ä½ æ›´æ‡‚Pythonï¼Œ ä»–åªæ˜¯ä¸çŸ¥é“ä½ çš„ä»£ç è¦åšä»€ä¹ˆã€‚ 123&gt; # BAD COMMENT: Now go through the b array and make sure whenever i occurs&gt; # the next element is i+1&gt; 3.9.6 æ ‡ç‚¹ç¬¦åˆã€æ‹¼å†™å’Œè¯­æ³•(Punctuation, Spelling and Grammar) å¤§å®¶éƒ½å–œæ¬¢è¯»ä¸€ä»½å†™å¾—å¾ˆä¼˜é›…çš„æ³¨é‡Šï¼Œè€Œä¸æ˜¯æ‚ä¹±æ²¡æœ‰å¤´ç»ªçš„æ³¨é‡Šã€‚æ³¨é‡Šåº”è¯¥æ˜¯ä¸€æ®µé€šé¡ºçš„è¯­å¥ã€‚å®Œæ•´çš„å¥å­æ¯”ä¸€ä¸ªç‰‡æ®µå¯è¯»æ€§æ›´å¼ºã€‚ æºä»£ç ä¿æŒé«˜åº¦çš„æ¸…æ™°åº¦å’Œå¯è¯»æ€§æ˜¯éžå¸¸é‡è¦çš„ã€‚é€‚å½“çš„æ ‡ç‚¹ç¬¦å·ã€è¯æ±‡é€‰æ‹©å’Œè¯­æ³•æ˜¯å¿…è¦çš„ã€‚ 3.10 ç±»(Classes) Python3èµ·ï¼Œé»˜è®¤çš„ç±»éƒ½ç»§æ‰¿è‡ªobjectï¼Œä¸ç”¨å†æ˜¾å¼ç»§æ‰¿objectã€‚ 12345678Okay: class SampleClass: pass class OuterClass: class InnerClass: pass 3.11 å­—ç¬¦ä¸²(Strings) ä½¿ç”¨%æ“ä½œç¬¦æˆ–è€…æ ¼å¼åŒ–æ–¹æ³•formatæ ¼å¼åŒ–å­—ç¬¦ä¸²ã€‚Python3.6æä¾›äº†f-string ï¼Œå‚è€ƒPEP-498ã€‚ç®€å•çš„æƒ…å†µä½¿ç”¨+ã€‚ 123456Yes: x = a + b x = '%s, %s!' % (imperative, expletive) x = '&#123;&#125;, &#123;&#125;'.format(first, second) x = 'name: %s; score: %d' % (name, n) x = 'name: &#123;&#125;; score: &#123;&#125;'.format(name, n) x = f'name: &#123;name&#125;; score: &#123;n&#125;' # Python 3.6+ 1234No: x = '%s%s' % (a, b) # use + in this case x = '&#123;&#125;&#123;&#125;'.format(a, b) # use + in this case x = first + ', ' + second x = 'name: ' + name + '; score: ' + str(n) é¿å…åœ¨å¾ªçŽ¯ä¸­ç”¨+å’Œ+=æ“ä½œç¬¦æ¥ç´¯åŠ å­—ç¬¦ä¸²ã€‚ ç”±äºŽå­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„ï¼Œè¿™æ ·åšä¼šåˆ›å»ºä¸å¿…è¦çš„ä¸´æ—¶å¯¹è±¡ï¼Œå¹¶ä¸”å¯¼è‡´äºŒæ¬¡æ–¹è€Œä¸æ˜¯çº¿æ€§çš„è¿è¡Œæ—¶é—´ã€‚ä½œä¸ºæ›¿ä»£æ–¹æ¡ˆï¼Œä½ å¯ä»¥å°†æ¯ä¸ªå­ä¸²åŠ å…¥åˆ—è¡¨ï¼Œç„¶åŽåœ¨å¾ªçŽ¯ç»“æŸåŽç”¨ .join è¿žæŽ¥åˆ—è¡¨ã€‚ (ä¹Ÿå¯ä»¥å°†æ¯ä¸ªå­ä¸²å†™å…¥ä¸€ä¸ª cStringIO.StringIO ç¼“å­˜ä¸­ã€‚) è™½ç„¶Cpythonå¯¹+å’Œ+=è¿›è¡Œäº†ä¼˜åŒ–ï¼Œé€Ÿåº¦æ¯”joinè¿˜å¿«ï¼Œä½†æ˜¯ä¸å»ºè®®ä¾èµ–ç‰¹å®šçš„è§£é‡Šå™¨è¿›è¡Œç¼–ç¨‹ã€‚ 12345Yes: items = ['&lt;table&gt;'] for last_name, first_name in employee_list: items.append('&lt;tr&gt;&lt;td&gt;%s, %s&lt;/td&gt;&lt;/tr&gt;' % (last_name, first_name)) items.append('&lt;/table&gt;') employee_table = ''.join(items) 1234No: employee_table = '&lt;table&gt;' for last_name, first_name in employee_list: employee_table += '&lt;tr&gt;&lt;td&gt;%s, %s&lt;/td&gt;&lt;/tr&gt;' % (last_name, first_name) employee_table += '&lt;/table&gt;' åœ¨åŒä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œ ä¿æŒä½¿ç”¨å­—ç¬¦ä¸²å¼•å·çš„ä¸€è‡´æ€§ã€‚è¦ä¹ˆéƒ½æ˜¯åŒå¼•å·ï¼Œè¦ä¹ˆéƒ½æ˜¯å•å¼•å·ï¼Œ åœ¨é‡è§å­—ç¬¦ä¸²ä¸­æœ‰å¼•å·æ—¶ï¼Œä½¿ç”¨å¦ä¸€ç§å¼•å·ã€‚ 1234Yes: Python('Why are you hiding your eyes?') Gollum("I'm scared of lint errors.") Narrator('"Good!" thought a happy Python reviewer.') 1234No: Python("Why are you hiding your eyes?") Gollum('The lint. It burns. It burns us.') Gollum("Always the great lint. Watching. Watching.") ä¸ºå¤šè¡Œå­—ç¬¦ä¸²ä½¿ç”¨ä¸‰é‡åŒå¼•å·&quot;&quot;&quot;è€Œéžä¸‰é‡å•å¼•å·â€™â€™â€™ã€‚å¤šè¡Œå­—ç¬¦ä¸²ä¸Žç¨‹åºå…¶ä»–éƒ¨åˆ†çš„ç¼©è¿›æ–¹å¼ä¸ä¸€è‡´ï¼Œ ä½¿ç”¨éšå¼è¡Œé“¾æŽ¥æ¥æ›¿ä»£ã€‚ 123Yes:print("This is much nicer.\n" "Do it this way.\n") 1234 No: print("""This is pretty ugly.Don't do this.""") 3.12 æ–‡ä»¶å’Œsockets(Files and Sockets) åœ¨æ–‡ä»¶å’Œsocketsç»“æŸæ—¶ï¼Œæ˜¾å¼çš„å…³é—­å®ƒã€‚ é™¤æ–‡ä»¶å¤–ï¼Œsocketsæˆ–å…¶ä»–ç±»ä¼¼æ–‡ä»¶çš„å¯¹è±¡åœ¨æ²¡æœ‰å¿…è¦çš„æƒ…å†µä¸‹æ‰“å¼€ï¼Œä¼šæœ‰è®¸å¤šå‰¯ä½œç”¨ï¼Œä¾‹å¦‚ï¼š å®ƒä»¬å¯èƒ½ä¼šæ¶ˆè€—æœ‰é™çš„ç³»ç»Ÿèµ„æºï¼Œå¦‚æ–‡ä»¶æè¿°ç¬¦ã€‚å¦‚æžœè¿™äº›èµ„æºåœ¨ä½¿ç”¨åŽæ²¡æœ‰åŠæ—¶å½’è¿˜ç³»ç»Ÿï¼Œé‚£ä¹ˆç”¨äºŽå¤„ç†è¿™äº›å¯¹è±¡çš„ä»£ç ä¼šå°†èµ„æºæ¶ˆè€—æ®†å°½ã€‚ æŒæœ‰æ–‡ä»¶å°†ä¼šé˜»æ­¢å¯¹äºŽæ–‡ä»¶çš„å…¶ä»–è¯¸å¦‚ç§»åŠ¨ã€åˆ é™¤ä¹‹ç±»çš„æ“ä½œã€‚ ä»…ä»…æ˜¯ä»Žé€»è¾‘ä¸Šå…³é—­æ–‡ä»¶å’Œsocketsï¼Œé‚£ä¹ˆå®ƒä»¬ä»ç„¶å¯èƒ½ä¼šè¢«å…¶å…±äº«çš„ç¨‹åºåœ¨æ— æ„ä¸­è¿›è¡Œè¯»æˆ–è€…å†™æ“ä½œã€‚ åªæœ‰å½“å®ƒä»¬çœŸæ­£è¢«å…³é—­åŽï¼Œå¯¹äºŽå®ƒä»¬å°è¯•è¿›è¡Œè¯»æˆ–è€…å†™æ“ä½œå°†ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œå¹¶ä½¿å¾—é—®é¢˜å¿«é€Ÿæ˜¾çŽ°å‡ºæ¥ã€‚ è€Œä¸”ï¼Œå¯¹æ–‡ä»¶å¯¹è±¡æžæž„æ—¶ï¼Œæ–‡ä»¶å’Œsocketsä¼šè‡ªåŠ¨å…³é—­ã€‚ ä¸åŒçš„Pythonè§£é‡Šå™¨å®žçŽ°äº†ä¸åŒçš„gcã€‚ å¯¹äºŽæ–‡ä»¶æ„å¤–çš„å¼•ç”¨,ä¼šå¯¼è‡´å¯¹äºŽæ–‡ä»¶çš„æŒæœ‰æ—¶é—´è¶…å‡ºé¢„æœŸ(æ¯”å¦‚å¯¹äºŽå¼‚å¸¸çš„è·Ÿè¸ª, åŒ…å«æœ‰å…¨å±€å˜é‡ç­‰). æŽ¨èä½¿ç”¨withç®¡ç†æ–‡ä»¶ï¼š 123with open("hello.txt") as hello_file: for line in hello_file: print line å¯¹äºŽä¸æ”¯æŒwithçš„ç±»æ–‡ä»¶å¯¹è±¡ï¼Œä½¿ç”¨contextlib.closing()ï¼š 12345import contextlibwith contextlib.closing(urllib.urlopen("http://www.python.org/")) as front_page: for line in front_page: print(line) 3.13 TODOæ³¨é‡Š(TODO Comments) ä¸ºä¸´æ—¶ä»£ç ä½¿ç”¨TODOæ³¨é‡Šï¼Œå®ƒæ˜¯ä¸€ç§çŸ­æœŸè§£å†³æ–¹æ¡ˆã€‚ TODOæ³¨é‡Šåº”è¯¥åœ¨æ‰€æœ‰å¼€å¤´å¤„åŒ…å«&quot;TODO&quot;å­—ç¬¦ä¸²ï¼Œç´§è·Ÿç€æ˜¯ç”¨æ‹¬å·æ‹¬èµ·æ¥çš„ä½ çš„åå­—ã€emailåœ°å€æˆ–å…¶å®ƒæ ‡è¯†ç¬¦ã€‚ç„¶åŽæ˜¯ä¸€ä¸ªå¯é€‰çš„å†’å·ï¼ŒæŽ¥ç€å¿…é¡»æœ‰ä¸€è¡Œæ³¨é‡Šï¼Œ è§£é‡Šè¦åšä»€ä¹ˆã€‚ ä¸»è¦ç›®çš„æ˜¯ä¸ºäº†æœ‰ä¸€ä¸ªç»Ÿä¸€çš„TODOæ ¼å¼ï¼Œ è¿™æ ·æ·»åŠ æ³¨é‡Šçš„äººå°±å¯ä»¥æœç´¢åˆ°ä»–çš„æ³¨é‡Šã€‚ å†™äº†TODOæ³¨é‡Šå¹¶ä¸ä¿è¯å†™çš„äººä¼šäº²è‡ªè§£å†³é—®é¢˜ã€‚å½“ä½ å†™äº†ä¸€ä¸ªTODOï¼Œè¯·æ³¨ä¸Šä½ çš„åå­—ã€‚ 12# TODO(kl@gmail.com): Use a "*" here for string repetition.# TODO(Zeke) Change this to use relations. 3.14 å¯¼å…¥æ ¼å¼åŒ–(Imports formatting) å¯¼å…¥éœ€è¦ç‹¬å ä¸€è¡Œã€‚ 12Yes: import os import sys 1No: import os, sys å¯¼å…¥æ€»åº”è¯¥æ”¾åœ¨æ–‡ä»¶é¡¶éƒ¨ï¼Œä½äºŽæ¨¡å—æ³¨é‡Šå’Œæ–‡æ¡£å­—ç¬¦ä¸²ä¹‹åŽï¼Œæ¨¡å—å…¨å±€å˜é‡å’Œå¸¸é‡ä¹‹å‰ã€‚å¯¼å…¥åº”è¯¥æŒ‰ç…§ä»¥ä¸‹é¡ºåºåˆ†ç»„: æ ‡å‡†åº“å¯¼å…¥ï¼Œæ¯”å¦‚ï¼šimport sys ç¬¬ä¸‰æ–¹åº“å¯¼å…¥ï¼Œæ¯”å¦‚ï¼šimport tensorflow as tf åº”ç”¨ç¨‹åºæŒ‡å®šå¯¼å…¥ï¼Œæ¯”å¦‚ï¼šfrom otherproject.ai import mind å¯¼å…¥çš„æ¯ä¸€éƒ¨åˆ†éœ€è¦æŒ‰å­—å…¸åºæŽ’åºï¼Œå¿½ç•¥å¤§å°å†™ã€‚ 123456789101112131415import collectionsimport Queueimport sysimport argcompleteimport BeautifulSoupimport cryptographyimport tensorflow as tffrom otherproject.ai import bodyfrom otherproject.ai import mindfrom otherproject.ai import soulfrom myproject.backend.hgwells import time_machinefrom myproject.backend.state_machine import main_loop 3.15 è¯­å¥(Statements) é€šå¸¸æ¯ä¸ªè¯­å¥ç‹¬å ä¸€è¡Œã€‚ ä¸è¿‡ï¼Œ å¦‚æžœä»…ä»…åªæœ‰ifè¯­å¥ï¼Œå¯ä»¥æŠŠæ•´ä¸ªè¯­å¥æ”¾åœ¨ä¸€è¡Œã€‚ å¦‚æžœä¸ºäº†æµ‹è¯•ï¼Œä¸´æ—¶è¿™ä¹ˆåšä¹Ÿæ˜¯å¯ä»¥çš„ã€‚ 1234Yes: if foo: bar(foo) import pdb; pdb.set_trace() 1234567891011No: if foo: bar(foo) else: baz(foo) try: bar(foo) except ValueError: baz(foo) try: bar(foo) except ValueError: baz(foo) 3.16 è®¿é—®æŽ§åˆ¶(Access Control) ä½¿ç”¨@propertyå¯¹å±žæ€§è¿›è¡ŒæŽ§åˆ¶ï¼Œä¸è¦å¦å¤–å†™getterå’Œsetteræ–¹æ³•ã€‚ ä¾‹å¤–ï¼šå¦‚æžœé€»è¾‘éžå¸¸å¤æ‚ï¼Œæˆ–è€…è°ƒç”¨éžå¸¸é¢‘ç¹å½±å“åˆ°æ€§èƒ½ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨å‡½æ•°è°ƒç”¨ï¼Œéœ€è¦éµå®ˆå‘½åè§„åˆ™æ¯”å¦‚set_foo() get_foo()ã€‚ 3.17 å‘½å(Naming) Pythonå‘½ååˆ†ä¸ºè®¸å¤šç§ç±»ï¼š module_name, package_name, ClassName, method_name, ExceptionName, function_name, GLOBAL_CONSTANT_NAME,global_var_name, instance_var_name, function_parameter_name, local_var_nameã€‚ 3.17.1åº”è¯¥é¿å…çš„åç§° å•å­—ç¬¦åç§°ï¼Œ é™¤äº†è®¡æ•°å™¨å’Œè¿­ä»£å™¨ã€‚ åŒ…/æ¨¡å—åä¸­çš„è¿žå­—ç¬¦(-)ã€‚ åŒä¸‹åˆ’çº¿å¼€å¤´å¹¶ç»“å°¾çš„åç§°(é™¤äº†Pythonä¿ç•™çš„ä¾‹å¦‚__init__)ã€‚ 3.17.2 å‘½åçº¦å®š æ‰€è°“&quot;å†…éƒ¨(Internal)&quot;è¡¨ç¤ºä»…æ¨¡å—å†…å¯ç”¨ï¼Œæˆ–è€…ï¼Œåœ¨ç±»å†…æ˜¯ä¿æŠ¤æˆ–ç§æœ‰çš„ã€‚ ç”¨å•ä¸‹åˆ’çº¿(_)å¼€å¤´è¡¨ç¤ºæ¨¡å—å˜é‡æˆ–å‡½æ•°æ˜¯protectedçš„(ä½¿ç”¨import * fromæ—¶ä¸ä¼šåŒ…å«)ã€‚ ç”¨åŒä¸‹åˆ’çº¿(__)å¼€å¤´çš„å®žä¾‹å˜é‡æˆ–æ–¹æ³•è¡¨ç¤ºç±»å†…ç§æœ‰ã€‚ å°†ç›¸å…³çš„ç±»å’Œé¡¶å±‚å‡½æ•°æ”¾åœ¨åŒä¸€ä¸ªæ¨¡å—é‡Œã€‚ä¸åƒJavaï¼Œæ²¡å¿…è¦é™åˆ¶ä¸€ä¸ªç±»ä¸€ä¸ªæ¨¡å—ã€‚ å¯¹ç±»åä½¿ç”¨å¤§å†™å­—æ¯å¼€å¤´çš„å•è¯(å¦‚CapWords, å³Pascalé£Žæ ¼)ï¼Œä½†æ˜¯æ¨¡å—ååº”è¯¥ç”¨å°å†™åŠ ä¸‹åˆ’çº¿çš„æ–¹å¼(å¦‚lower_with_under.py)ã€‚å°½ç®¡å·²ç»æœ‰å¾ˆå¤šçŽ°å­˜çš„æ¨¡å—ä½¿ç”¨ç±»ä¼¼äºŽCapWords.pyè¿™æ ·çš„å‘½åï¼Œä½†çŽ°åœ¨å·²ç»ä¸é¼“åŠ±è¿™æ ·åšï¼Œå› ä¸ºå¦‚æžœæ¨¡å—åç¢°å·§å’Œç±»åä¸€è‡´ï¼Œè¿™ä¼šè®©äººå›°æ‰°ã€‚ 3.17.3 æ–‡ä»¶å‘½å Pythonæ–‡ä»¶åå¿…é¡»æ˜¯.pyçš„æ‰©å±•åï¼Œä¸èƒ½åŒ…å«è¿žå­—ç¬¦(-)ã€‚å› æ­¤è¿™äº›æ–‡ä»¶å¯ä»¥è¢«å¯¼å…¥å’Œå•å…ƒæµ‹è¯•ã€‚å¦‚æžœä½ æƒ³è¦ä¸€ä¸ªæ²¡æœ‰æ‰©å±•åçš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œä½¿ç”¨è½¯é“¾æŽ¥æˆ–è€…æ˜¯ä¸€ä¸ªbashæ¥åŒ…è£… exec &quot;$0.py&quot; &quot;$@&quot;ã€‚ 3.17.4 Guido van RossumæŽ¨èçš„å‘½åè§„èŒƒ ç±»åž‹(Type) å…¬å…±(Public) å†…éƒ¨(Internal) Packages lower_with_under Modules lower_with_under _lower_with_under Classes CapWords _CapWords Exceptions CapWords Functions lower_with_under() _lower_with_under() Global/Class Constants CAPS_WITH_UNDER _CAPS_WITH_UNDER Global/Class Variables lower_with_under _lower_with_under Instance Variables lower_with_under _lower_with_under (protected) Method Names lower_with_under() _lower_with_under() (protected) Function/Method Parameters lower_with_under Local Variables lower_with_under Python é€šè¿‡åŒä¸‹åˆ’çº¿å‘½åæ¥æ”¯æŒç§æœ‰å˜é‡ã€‚ä½†æ˜¯æœ€å¥½ä½¿ç”¨å•ä¸‹åˆ’çº¿æ¥ä½œä¸ºå†…éƒ¨å˜é‡è®¿é—®ã€‚ 3.18 ä¸»å‡½æ•°(Main) æ¯ä¸€ä¸ªå¯æ‰§è¡Œè„šæœ¬éƒ½åº”è¯¥èƒ½è¢«å¯¼å…¥ï¼Œå¹¶ä¸”å¯¼å…¥ä¸ä¼šæ‰§è¡Œè¿™ä¸ªè„šæœ¬çš„ä¸»è¦åŠŸèƒ½éƒ¨åˆ†ã€‚ ä¸»è¦åŠŸèƒ½éƒ¨åˆ†åº”è¯¥è¢«æ”¾åœ¨ä¸»å‡½æ•°ä¸­ã€‚ ä»£ç åœ¨æ‰§è¡Œä¸»ç¨‹åºå‰åº”è¯¥æ£€æŸ¥if __name__ == '__main__'ï¼Œè¿™æ ·å½“æ¨¡å—è¢«å¯¼å…¥æ—¶ï¼Œè¿™éƒ¨åˆ†ä»£ç å°±ä¸ä¼šè¢«æ‰§è¡Œã€‚ 12345def main(): ...if __name__ == '__main__': main() æ‰€æœ‰çš„é¡¶å±‚ä»£ç åœ¨æ¨¡å—å¯¼å…¥æ—¶éƒ½ä¼šè¢«æ‰§è¡Œã€‚å› æ­¤è¦å°å¿ƒåœ¨å…¨å±€ä¸­è°ƒç”¨å‡½æ•°ï¼Œåˆ›å»ºå¯¹è±¡çš„æ“ä½œï¼Œéœ€è¦æµ‹è¯•çš„ä»£ç å†™åœ¨if __name__ == '__main__'ä¸‹é¢ã€‚ 3.19 å‡½æ•°é•¿åº¦(Function length) æŽ¨èä½¿ç”¨å°è€Œç²¾çš„å‡½æ•°ã€‚ æœ‰æ—¶å€™ä¸€æ®µæ¯”è¾ƒé•¿çš„å‡½æ•°æ˜¯æ¯”è¾ƒåˆé€‚çš„ï¼Œæ‰€ä»¥è¿™é‡Œä¸ä¼šè¿‡å¤šåœ°é™åˆ¶å‡½æ•°çš„é•¿åº¦ã€‚å¦‚æžœä¸€ä¸ªå‡½æ•°è¶…è¿‡40è¡Œï¼Œé‚£ä¹ˆè¦è€ƒè™‘ä¸€ä¸‹å®ƒæ˜¯å¦èƒ½è¢«åˆç†åœ°æ‹†åˆ†ã€‚ä¸€ä¸ªå¾ˆé•¿çš„å‡½æ•°å¯èƒ½åœ¨è¿™ä¸ªéœ€æ±‚ä¸‹æ˜¯é€‚ç”¨çš„ï¼Œå¹¶ä¸”æ²¡æœ‰bugï¼Œä½†æ˜¯å¦‚æžœæ–°å¢žäº†éœ€æ±‚éœ€è¦å¯¹å®ƒè¿›è¡Œæ”¹åŠ¨ï¼Œåœ¨å¤šæ¬¡æ”¹åŠ¨åŽå¯èƒ½ä¼šå¯¼è‡´éš¾ä»¥æ‰¾åˆ°çš„bugã€‚å‡½æ•°åº”è¯¥æ˜¯ç®€æ´æ˜Žäº†ï¼Œæ˜“äºŽä»–äººç»´æŠ¤çš„ã€‚ å¦‚æžœä½ æ­£å¥½é‡åˆ°ä¸€ä¸ªå‡½æ•°ä»£ç é‡éžå¸¸åœ°é•¿å¹¶ä¸”å¤æ‚ï¼Œé‚£ä¹ˆæœ€å¥½å…ˆæŠŠå®ƒæ‹†åˆ†ä¸ºå¤šä¸ªå‡½æ•°æ˜“äºŽç®¡ç†ã€‚ä¸è¦è§‰å¾—æ‹†åˆ†æ˜¯ä¸€ä»¶å¾ˆå›°éš¾çš„äº‹æƒ…ï¼Œä¸ºäº†ä½ çš„é•¿è¿œè€ƒè™‘ï¼Œæˆ‘å»ºè®®ä½ è¿™ä¹ˆåšã€‚ 3.20 ç±»åž‹æ³¨é‡Š(Type Annotations) 3.20.1 ä¸€èˆ¬è§„åˆ™ äº†è§£PEP-484ã€‚ ä¸è¦åœ¨æ–¹æ³•ä¸­æ³¨é‡Šselfå’Œclsã€‚ å¦‚æžœå˜é‡æˆ–è¿”å›žå€¼ä¸æ˜Žç¡®ï¼Œä½¿ç”¨Anyã€‚ ä¸è¦æ±‚æ³¨é‡Šæ‰€æœ‰çš„å‡½æ•°ã€‚ è‡³å°‘æ³¨é‡Šå…¬å…±APIã€‚ åœ¨æ˜Žç¡®å’Œçµæ´»ä¹‹é—´åšä¸€ä¸ªå¹³è¡¡ã€‚ æ³¨é‡Šçš„ä»£ç ç›¸å¯¹éš¾ç†è§£ã€‚ æ³¨é‡Šä»£ç æ˜¯ä¸€ä¸ªç¨³å¦¥çš„åšæ³•ï¼Œå¯¹ä¸€æ®µæˆç†Ÿçš„ä»£ç ä¸€å®šè¦è¿›è¡Œæ³¨é‡Šã€‚ æ³¨é‡Šä»£ç å¯ä»¥å‘çŽ°ç±»åž‹ç›¸å…³çš„é”™è¯¯ã€‚ 5 ä¸´åˆ«èµ è¨€ åŠ¡å¿…ä¿æŒä»£ç çš„ä¸€è‡´æ€§ å¦‚æžœä½ æ­£åœ¨ç¼–è¾‘ä»£ç ï¼ŒèŠ±å‡ åˆ†é’Ÿçœ‹ä¸€ä¸‹å‘¨è¾¹ä»£ç ï¼Œç„¶åŽå†³å®šé£Žæ ¼ã€‚å¦‚æžœå®ƒä»¬åœ¨æ‰€æœ‰çš„ç®—æœ¯æ“ä½œç¬¦ä¸¤è¾¹éƒ½ä½¿ç”¨ç©ºæ ¼ï¼Œé‚£ä¹ˆä½ ä¹Ÿåº”è¯¥è¿™æ ·åšï¼Œå¦‚æžœå®ƒä»¬çš„æ³¨é‡Šéƒ½ç”¨æ ‡è®°åŒ…å›´èµ·æ¥ï¼Œé‚£ä¹ˆä½ çš„æ³¨é‡Šä¹Ÿè¦è¿™æ ·ã€‚ åˆ¶å®šé£Žæ ¼æŒ‡å—çš„ç›®çš„åœ¨äºŽè®©ä»£ç æœ‰è§„å¯å¾ªï¼Œè¿™æ ·äººä»¬å°±å¯ä»¥ä¸“æ³¨äºŽ&quot;ä½ åœ¨è¯´ä»€ä¹ˆ&quot;ï¼Œè€Œä¸æ˜¯&quot;ä½ åœ¨æ€Žä¹ˆè¯´&quot;ã€‚æˆ‘ä»¬åœ¨è¿™é‡Œç»™å‡ºçš„æ˜¯å…¨å±€çš„è§„èŒƒï¼Œä½†æ˜¯æœ¬åœ°çš„è§„èŒƒåŒæ ·é‡è¦ã€‚å¦‚æžœä½ åŠ åˆ°ä¸€ä¸ªæ–‡ä»¶é‡Œçš„ä»£ç å’ŒåŽŸæœ‰ä»£ç å¤§ç›¸å¾„åº­ï¼Œå®ƒä¼šè®©è¯»è€…ä¸çŸ¥æ‰€æŽªï¼Œè¯·é¿å…è¿™ç§æƒ…å†µã€‚ ä½œè€…ï¼šå€ªä¾ƒï¼ˆ859905874@qq.comï¼‰]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>codestyle python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç®€åŽ†]]></title>
    <url>%2F2018%2F07%2F29%2FMe%2F%E5%85%B3%E4%BA%8E%E6%88%91%2F</url>
    <content type="text"><![CDATA[åŸºæœ¬ä¿¡æ¯ â€‹ Github: https://github.com/nikan1996 â€‹ Email: 859905874@qq.com æ•™è‚²ç»åŽ† â€‹ 2014å¹´9æœˆ-2018å¹´7æœˆæœ¬ç§‘æ¯•ä¸šäºŽæµ™æ±Ÿå·¥ä¸šå¤§å­¦ã€‚ å®žä¹ ç»åŽ† 2017å¹´3æœˆ-2017å¹´9æœˆ æ•°æ¢¦å·¥åœºï¼ŒèŒä½ï¼šåŽå°å¼€å‘å·¥ç¨‹å¸ˆã€‚ 2017å¹´10æœˆ-2018å¹´6æœˆ è‰¾è€•ç§‘æŠ€ï¼ŒèŒä½ï¼šçˆ¬è™«å¼€å‘å·¥ç¨‹å¸ˆã€‚ å·¥ä½œç»åŽ† 2018å¹´7æœˆ-2019å¹´1æœˆ è‰¾è€•ç§‘æŠ€ï¼Œ èŒä½ï¼šæ•°æ®å¹³å°å¼€å‘å·¥ç¨‹å¸ˆã€‚ å…´è¶£çˆ±å¥½ å¥èº« éŸ³ä¹ æœªå®Œå¾…ç»­â€¦]]></content>
      <tags>
        <tag>resume</tag>
      </tags>
  </entry>
</search>
